

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title>Des articles sur Magento et plein d'autres choses ! - Jacques Bodin-Hullin, développeur Magento</title>
    
    
    <meta name="author" content="Jacques Bodin-Hullin">
    <link href="/css/style.css" rel="stylesheet" type="text/css" />
    <link href="/css/pygments.css" rel="stylesheet" type="text/css" media="all">
    <link href="/js/fancybox/jquery.fancybox.css" rel="stylesheet" type="text/css" media="all">
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="favicon.ico">
  <!-- Update these with your own images
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
    <link rel="alternate" type="application/rss+xml" title="Jacques Bodin-Hullin - Latest Posts" href="/atom.xml" >

    <script type="text/javascript" src="/js/jquery-1.10.2.min.js" ></script>
    <script type="text/javascript" src="/js/fancybox/jquery.fancybox.pack.js" ></script>
    <script type="text/javascript" src="/js/event.js" ></script>
    <script type="text/javascript" src="/js/functions.js" ></script>

    <style for="gists"></style>
</head>
<body class="">

<div id="mainWrap">

    <div id="topWrap">
        <div id="headerWrap">
            <p>
                Jacques Bodin-Hullin
                <span class="baseline">Développeur d'applications Web</span>
            </p>
            <a href="http://jacques.sh"></a>

            <div id="magento_certified">
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="Jacques Bodin-Hullin, développeur certifié Magento Developer" class="developer" target="_blank"></a>
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="L'Agence Monsieur Biz est certifiée Magento Developer Plus" class="developer-plus" target="_blank"></a>
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="Jacques Bodin-Hullin est développeur certifié Magento Front End Developer" class="frontend-developer" target="_blank"></a>
            </div>

        </div>

        <blockquote id="quoteWrap">
            
            <p>
                La perfection est atteinte non quand il ne reste rien à ajouter, mais quand il ne reste
                rien à enlever.
            </p>
            <div><cite>Antoine de Saint Exupéry</cite></div>
            
        </blockquote>

        <ul id="menu">
            
            <li><a href="/"><span></span>Accueil</a></li>
            
            <li><a href="https://github.com/jacquesbh" target="_blank"><span></span>Code</a></li>
            
            
    
        
    

    
        
            
            <li><a href="/a-propos.html"><span></span>A propos</a></li>
            
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
            
            <li><a href="/references.html"><span></span>Références</a></li>
            
        
    

    
        
    

    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    




            <li class="search">
                <form action="/search.html" method="get" id="search_form">
                    <div>
                        <input type="text" name="q" placeholder="Votre recherche" />
                    </div>
                </form>
            </li>
        </ul>

        <div class="mbiz">
            <p>
                <a href="http://monsieurbiz.com" title="Découvrez l'agence Monsieur Biz, spécialiste Magento">
                    <img src="/img/monsieurbiz_bg.png" title="L'Agence Monsieur Biz" />
                    <span>Vous cherchez une agence à taille humaine spécialisée sur la solution e-commerce Magento ? L'agence Monsieur Biz est faite pour vous.</span>
                </a>
            </p>
        </div>
    </div>

    <div id="globalWrap">



<div id="sideWrap">

<h2>A propos</h2>
<div>
    <img src="/img/visage_edito.png" alt="" width="277" height="88" />
    <p>Bienvenue sur mon blog !</p>
    <p>Je suis <a href="/a-propos.html">Jacques Bodin-Hullin, développeur PHP confirmé, certifié Magento</a>.</p>
    <p>Ce blog est dédié au développement, PHP essentiellement, Javascript un peu, et tout le reste, évidemment !</p>
    <p>N'hésitez pas à aller faire un tour <a href="https://github.com/jacquesbh">sur mon github</a> afin de suivre mes projets et à poster vos remarques sur les articles que vous trouvez ici, c'est toujours constructif !</p>
    <p>J'espère que vous trouverez ici l'information que vous cherchez.</p>
</div>

<div>
    <p>Et sinon, en journée je suis <a href="http://monsieurbiz.com">Directeur technique chez Monsieur Biz, une agence spécialisée Magento</a>.</p>
</div>

<hr />




<h2>Tags</h2>

<p class="tags">

    <span style="font-size:14.4px"><a href="/search.html#!tag=Jekyll">Jekyll</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Markdown">Markdown</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=GitHub">GitHub</a></span>

    <span style="font-size:37.2px"><a href="/search.html#!tag=Magento">Magento</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Snippets">Snippets</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Vim">Vim</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Netbeans">Netbeans</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=jQuery">jQuery</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Javascript">Javascript</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=PHP">PHP</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=URL">URL</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=Bonnes pratiques">Bonnes pratiques</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Ajax">Ajax</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Homepage">Homepage</a></span>

    <span style="font-size:16.8px"><a href="/search.html#!tag=Layout">Layout</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=CMS">CMS</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=The Installer">The Installer</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Android">Android</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Proxy">Proxy</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=HTTP">HTTP</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Git">Git</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Workflow">Workflow</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=Cache">Cache</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Block">Block</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=Module">Module</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Cart">Cart</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Customer">Customer</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Handle">Handle</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Events">Events</a></span>

    <span style="font-size:15.6px"><a href="/search.html#!tag=Attributes">Attributes</a></span>

    <span style="font-size:15.6px"><a href="/search.html#!tag=Product">Product</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Product type">Product type</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=EAV">EAV</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Thème">Thème</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=MariaDB">MariaDB</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=MySQL">MySQL</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Images">Images</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Aides de vue">Aides de vue</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=OS X">OS X</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Astuces">Astuces</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=MageConf">MageConf</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Émulation">Émulation</a></span>

</p>

<hr />



</div>


<div id="contentWrap">

    


    <hr />
    <h2><a href="/le-cache-des-blocks-sur-magento.html">Le cache des blocks sur Magento</a></h2>
    <div class="content post">
        <p>Le cache block sur Magento... Quelle galère !</p>

<p>Enfin... à ce qu'on dit.</p>

<blockquote><p>Je comprends rien... c'est quoi <code>cache_tags</code> ?</p>

<p>C'est comme <code>cache_key</code> ?</p></blockquote>

<p>Je ne suis pas de cet avis en fait. Le cache c'est <em>easy</em>, il suffit <em>juste</em> de savoir où on met les pieds !</p>

<p>Vous me suivez ?</p>

<!-- 


<hr />

<h2>Les bases du cache sur Magento</h2>

<p>Avant d'attaquer le cache sur les blocks il vous faut savoir quelques petites choses sur le cache en général sur Magento.</p>

<h3>La clé, ou <code>cache_key</code></h3>

<p>Une clé le plus souvent c'est <strong>unique</strong> ! Bah là, c'est pareil.</p>

<p>Un cache est identifié par sa clé. Un changement minime dans le contenu de votre cache doit faire varier sa clé !</p>

<p>Sauf bien sûr si vous ne souhaitez pas avoir les deux versions.</p>

<p>Par exemple on peut mettre en cache la réponse d'une requête SQL, à condition de faire en sorte que la clé soit liée à l'identifiant dans la clause <code>WHERE</code> de votre requête !</p>

<p>Sinon c'est la <em>loose</em>... Prenons un exemple <em>bidon</em> :</p>

<script src="https://gist.github.com/3646203.js?file=example_01.php"></script>


<p>On peut voir que la clé ne change pas car elle dépend de la variable <code>$_cacheKey</code> qui ne change pas entre le premier et le second appel à la méthode <code>getCountLessThan</code>.</p>

<p>Maintenant si on change la valeur de <code>$_cacheKey</code> à <code>jbh_counter_sql_result_%d</code> le résultat n'est plus le même !</p>

<script src="https://gist.github.com/3646203.js?file=example_02.php"></script>


<p><strong>La clé est donc vraiment importante dans la gestion du cache !</strong></p>

<h3>La durée de vie, ou <code>cache_lifetime</code></h3>

<p>Là c'est simple ! On peut décider de donner une durée de vie à notre cache (en secondes).</p>

<p>En gros si notre cache est vieux de plus de <code>cache_lifetime</code> secondes, alors on le supprime et il est généré à nouveau.</p>

<p><strong>Les valeurs de <code>cache_lifetime</code></strong> :</p>

<ul>
<li><code>null</code> : pas de cache</li>
<li><code>false</code> : 7200 secondes de cache, soit 2 heures</li>
<li><code>(int)</code> : nombre de secondes de cache</li>
<li><code>-(int)</code> : équivaut à pas de cache (date d'expiration du cache dépassée dès la prochaine demande)</li>
</ul>


<h3>Les tags, ou <code>cache_tags</code></h3>

<p>Tagguer un cache... <em>Wait... WHAT?</em></p>

<p>En toute logique quand on veut vider un cache on indique sa clé et on supprime le cache concerné.</p>

<p>Sauf qu'en pratique... bah c'est franchement la merde. Et c'est là que les tags font leur entrée !</p>

<p>Imaginons plusieurs caches avec chacun une liste de tags :</p>

<script src="https://gist.github.com/3646203.js?file=example_03.txt"></script>


<p>Maintenant, si on veut vider les caches <code>A</code> et <code>B</code> on fait tout simplement :</p>

<script src="https://gist.github.com/3646203.js?file=example_04.php"></script>


<p>Par défaut Magento fait en sorte que si un tag <em>match</em> un cache celui-ci soit supprimé. Si vous avez renseigné plusieurs tags à vider, <strong>tous</strong> les cache concernés par <strong>un ou plusieurs</strong> de ces tags seront supprimés.</p>

<p>Si vous souhaitez supprimer un cache (sur le cache <code>frontend</code>, pas le cache <code>backend</code>) qui <em>match</em> tous les tags renseignés il faut faire :</p>

<script src="https://gist.github.com/3646203.js?file=example_05.php"></script>


<p>Ici on a vidé le cache du <code>C</code>.</p>

<h2>Le cache sur les blocks</h2>

<p>Par défaut un block n'a pas de cache car la méthode <code>getCacheLifetime</code> du block <code>Mage_Core_Block_Abstract</code> retourne <code>null</code> si aucune <em>data</em> <code>cache_lifetime</code> n'est renseignée.</p>

<p>La gestion du cache sur les blocks utilise le fait que chaque block est un <code>Varien_Object</code> pour stocker les valeurs de <code>cache_key</code>, <code>cache_lifetime</code> et <code>cache_tags</code>.</p>

<p>Sauf que qui dit <code>Varien_Object</code> dit <code>__call</code>... non ?</p>

<p>Donc en fait les variables du cache sont récupérées de la manière suivante :</p>

<script src="https://gist.github.com/3646203.js?file=example_06.php"></script>


<p>Donc ? Bah donc on peut surcharger sur nos blocks. Et oui !</p>

<h3>La clé avec <code>getCacheKey()</code></h3>

<p>Comme on le sait la clé doit être unique et dépendre du contexte. On a donc plusieurs paramètres à prendre en compte :</p>

<ul>
<li>Le store (donc la locale en passant)</li>
<li>Le design (package &amp; thème)</li>
<li>Le template <code>phtml</code> utilisé</li>
<li>Le nom du block dans le Layout</li>
<li>Un identifiant (identifiant d'un produit par exemple)</li>
</ul>


<p>On peut bien sûr ajouter des paramètres dans notre clé.</p>

<p>Bon, mais en gros, quand on a un tableau de paramètres et qu'on veut une chaîne de caractères on fait comment ? <code>implode</code> ? Avec un <em>hash</em> ?</p>

<p>Soyons fous !</p>

<p>Mais en fait... Magento le fait pour nous ; avec l'appel à <code>getCacheKeyInfo()</code> dans <code>getCacheKey()</code> :</p>

<script src="https://gist.github.com/3646203.js?file=example_07.php"></script>


<p>Si on y regarde de plus près on remarque que la méthode <code>getCacheKeyInfo()</code> retourne un tableau qui contient une seule valeur : le nom du block dans le Layout :</p>

<script src="https://gist.github.com/3646203.js?file=example_08.php"></script>


<p>Dans notre block, on surcharge cette méthode !</p>

<script src="https://gist.github.com/3646203.js?file=example_09.php"></script>


<h3>Les tags avec <code>getCacheTags()</code></h3>

<p>Par défaut on essaiera toujours de donner une constante <code>CACHE_TAG</code> à un modèle concocté par nos soins par exemple. A nous de ne pas oublier de l'utiliser !</p>

<p>L'intérêt de définir une constante <code>CACHE_TAG</code> à nos modèles qui sont utilisés dans nos blocks c'est de pouvoir vider le cache de tous les blocks concernés par nos objets lorsqu'on les sauvegarde par exemple !</p>

<p>Il suffit de modifier la méthode <code>_afterSave</code> de nos modèles pour y ajouter le clean du cache !</p>

<p>Revenons à nos moutons et voyons à quoi ressemble la méthode <code>getCacheTags</code> par défaut de Magento :</p>

<script src="https://gist.github.com/3646203.js?file=example_10.php"></script>


<p>Allez, on surcharge dans notre block !</p>

<p>J'ajoute ici un exemple <em>vite fait</em> d'un modèle avec une constante <code>CACHE_TAG</code> bien utilisée :</p>

<script src="https://gist.github.com/3646203.js?file=example_11.php"></script>


<p>Vous noterez qu'on peut ajouter n'importe quels tags. Attention cependant à ne pas oublier les tags par défaut récupérés grâce au <code>parent</code> !</p>

<h3>La durée de vie avec <code>getCacheLifetime()</code></h3>

<p>Rien de plus simple !</p>

<script src="https://gist.github.com/3646203.js?file=example_12.php"></script>


<h2>Pensez à vider le cache !</h2>

<p>Utilisez bien les tags enregistrés avec le cache de vos blocks pour vider tout ça !</p>

<p>Vous pouvez aussi enregistrer tous les tags utilisés sur les blocks par défaut d'une page de cette manière :</p>

<p>Dans le fichier <code>/app/code/core/Mage/Core/Model/App.php</code>, ajoutez un log dans la méthode <code>saveCache</code> :</p>

<script src="https://gist.github.com/3646203.js?file=example_13.php"></script>


<p>Vous aurez ici les tags utilisés ! Mais pas ceux qui ne sont pas utilisés, mais vidés !</p>

<p>Dans le fichier <code>/app/code/core/Mage/Core/Model/App.php</code>, ajoutez un log dans la méthode <code>cleanCache</code> :</p>

<script src="https://gist.github.com/3646203.js?file=example_14.php"></script>


<h2>Conclusion</h2>

<p>Gérer le cache des blocks n'est pas une mince affaire mais on s'y retrouve !</p>

<p>Il faut juste savoir s'y prendre.</p>

<p>Vous pouvez également utiliser la méthode <code>addData</code> dans la surcharge du constructeur secondaire <code>protected function _construct()</code> de votre block pour y assigner les valeurs de <code>cache_key</code>, <code>cache_tags</code> et <code>cache_lifetime</code> mais je le déconseille.</p>

<p>Bon cache !</p>

 -->



    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/le-cache-des-blocks-sur-magento.html" data-text="Le cache des blocks sur Magento" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/le-cache-des-blocks-sur-magento.html#disqus_thread">Commentaires</a> -
        

        <a href="/le-cache-des-blocks-sur-magento.html">Lire l'article</a>

    </div>

    <hr />
    <h2><a href="/git-en-entreprise.html">Git en entreprise</a></h2>
    <div class="content post">
        <p>Je suis actuellement en poste dans deux entreprises :</p>

<ol>
<li>Lead développeur chez <a href="http://joliebox.com">JolieBox</a>, où je passe mes connaissances car mon départ est prévu pour le 1er octobre 2012.</li>
<li>Lead développeur chez <a href="http://www.internim.com">Internim</a> où j'arrive petit à petit pour prendre en main tout ou partie du Lead sur certains projets et pour animer un peu les développeurs.</li>
</ol>


<p>J'ai une problématique qui se présente à la fois chez JolieBox et à la fois chez Internim : <strong>Notre workflow git</strong>.</p>

<p>L'idée de cet article est de permettre aux développeurs de savoir quelles commandes utiliser, et dans quels cas !</p>

<p>Rien de mieux qu'un bon exemple. Vous allez avoir du concret !</p>

<!-- 


<hr />

<h2>Les branches</h2>

<p>Avant mon arrivée chez Internim nous avons décidé, chez JolieBox, de travailler avec une branche par développeur.</p>

<p>Chaque développeur a donc une branche qui lui est propre, nommée le plus souvent par son pseudo ou son nom : <code>jbh</code> pour moi !</p>

<p>A ce moment là nous avons établi le fonctionnement :</p>

<ul>
<li>Une branche par développeur.</li>
<li>Une branche <code>master</code>.</li>
<li>Une branche <code>dev</code> si besoin.</li>
<li>Une branche supplémentaire par gros lot de développements.</li>
</ul>


<p>A mon arrivée chez Internim j'ai découvert que le fonctionnement était le même sur les projets sous <em>Git</em>, avec quelques branches en plus :</p>

<ul>
<li>Une branche <code>integration</code> qui contient donc l'intégration du projet (agence web oblige).</li>
<li>Une branche <code>recette</code> qui contient la dernière release du projet.</li>
<li>Une branche <code>demo</code> qui permet surtout d'avoir une environnement adapté.</li>
</ul>


<p>Nous sommes donc sur un schéma assez complexe car nous avons un minimum de 3 branches chez JolieBox et 6 branches chez Internim.</p>

<p>Si à cela on ajoute au moins 3 ou 4 branches pour les développeurs, ça devient rapidement un beau bordel. Et nous ne sommes pas dans des process de releases comme <em>Debian</em> ou autre.</p>

<h2>Les développements</h2>

<p>J'ai lu <a href="http://nvie.com/posts/a-successful-git-branching-model/">un très bon article</a> qui résume bien le fonctionnement que je vais vous expliquer ici.</p>

<h3>git commit</h3>

<p>On ne vous la présente pas ! Comment faire nos commits sans cette ligne de commande ?</p>

<p>La meilleure.</p>

<h3>git checkout</h3>

<p>La commande <code>git checkout</code> permet donc de changer de branche.
Elle est utilisée dans le cas où on doit se placer dans l'état d'une autre branche (la <code>master</code> pour un <em>hotfix</em> par exemple).
Elle est aussi utilisée avant de faire un <code>git merge</code>.</p>

<h3>git merge</h3>

<p>La commande <code>git merge</code> permet de <em>merger</em> une branche sur la branche courante.</p>

<p>Imaginez que vous êtes sur la branche <code>jbh</code> et que vous devez merger cette branche <code>jbh</code> sur la <code>master</code> :</p>

<pre><code>$ git checkout master
$ git merge jbh
</code></pre>

<p>Rien de plus.</p>

<p>L'option <code>--no-ff</code> permet de ne pas faire de <em>fast-forward</em> et de forcer la création d'un commit.</p>

<h3>git cherry-pick</h3>

<p>J'adore cette commande. Elle permet de récupérer un commit...</p>

<blockquote><p>(RTFM)</p>

<p>git-cherry-pick - Apply the changes introduced by some existing commits</p></blockquote>

<p>Je l'utilise quand je dois appliquer un hotfix sur ma branche par exemple. Plutôt qu'un merge...</p>

<h2>Par l'exemple</h2>

<p>Rien ne vaut un exemple pour bien comprendre tout ça.</p>

<p>Prenons les branche suivantes :</p>

<ul>
<li>master</li>
<li>dev</li>
<li>recette</li>
<li>demo</li>
<li>dev1 (développeur 1)</li>
<li>dev2 (développeur 2)</li>
<li>dev3 (développeur 3)</li>
</ul>


<p>Et établissons l'historique suivant : (Espace de travail du <em>Développeur 2</em>)</p>

<pre><code>* Added f  (origin/dev3)
* Added e 
| * Added d  (HEAD, origin/dev2, dev2)
| * Added c 
|/  
| * Added b  (origin/dev1)
|/  
* Added a  (origin/recette, origin/master, origin/dev, origin/demo, origin/HEAD, master)
</code></pre>

<p>On peut voir que les développeurs on avancé chacun de leur côté au départ de la master.</p>

<h3>La branche <code>dev</code></h3>

<p>Le <em>Développeur 2</em> veut merger sa branche sur la <code>dev</code> car il a terminé ses développements :</p>

<pre><code>$ git checkout dev
$ git merge --no-ff dev2
$ git push origin dev
</code></pre>

<p>Et voici ce que ça donne :</p>

<pre><code>*   Merge branch 'dev2' into dev  (HEAD, origin/dev, dev)
|\  
| * Added d  (origin/dev2, dev2)
| * Added c 
|/  
| * Added f  (origin/dev3)
| * Added e 
|/  
| * Added b  (origin/dev1)
|/  
* Added a  (origin/recette, origin/master, origin/demo, origin/HEAD, master)
</code></pre>

<p>Il se trouve que le <em>Développeur 2</em> se trouve sur la dernière révision de la <code>dev</code>, il peut donc reprendre ses développements.</p>

<pre><code>$ git checkout dev2
[quelques commits...]
$ git push origin dev2
</code></pre>

<p>On remarque que le merge de <code>dev2</code> sur <code>dev</code> n'a impacté que la branche <code>dev</code>.
Il faut savoir que <strong>le merge n'impacte QUE la branche courante</strong>.</p>

<pre><code>* Added h  (HEAD, origin/dev2, dev2)
* Added g 
| *   Merge branch 'dev2' into dev  (origin/dev, dev)
| |\  
| |/  
|/|   
* | Added d 
* | Added c 
|/  
| * Added f  (origin/dev3)
| * Added e 
|/  
| * Added b  (origin/dev1)
|/  
* Added a  (origin/recette, origin/master, origin/demo, origin/HEAD, master)
</code></pre>

<p>Maintenant c'est au tour du <em>Développeur 1</em> de vouloir merger sur la <code>dev</code>.</p>

<pre><code>$ git checkout dev
$ git fetch
$ git merge origin/dev
$ git merge --no-ff dev1
$ git push origin dev
</code></pre>

<p>Le résultat : La branche <code>dev</code> est à jour avec les commits des développeurs 1 et 2. Cependant le <em>Développeur 1</em> n'a pas dans sa branche <code>dev1</code> les commits de la branche <code>dev2</code> et le <em>Développeur 2</em> n'a pas ceux de la branche <code>dev1</code> dans sa branche <code>dev2</code>.</p>

<p>Le <em>Développeur 1</em> sait que sa branche n'est pas totalement à jour. Il décide donc de faire en sorte qu'elle le soit pour pouvoir continuer ses développements.</p>

<p>Pour ça il décide de replacer sa branche <code>dev1</code> à l'identique de la branche <code>dev</code>. On reset :</p>

<pre><code>$ git checkout dev1
$ git reset --hard dev
$ git push -f origin dev1
</code></pre>

<p>D'après un collègue chez <a href="http://www.internim.com">Internim</a> on peut aussi faire un pull/push de la branche sur laquelle on veut se placer : <em>(testé et approuvé)</em></p>

<pre><code>$ git checkout dev1
$ git pull origin dev
$ git push origin dev1
</code></pre>

<p>Le <em>Développeur 1</em> est maintenant précisément au même endroit que la branche <code>dev</code>, il peut donc continuer ses développements avec deux nouveaux commits :</p>

<pre><code>* Added j  (HEAD, origin/dev1, dev1)
* Added i 
*   Merge branch 'dev1' into dev  (origin/dev, dev)
|\  
| * Added b 
* |   Merge branch 'dev2' into dev 
|\ \  
| |/  
|/|   
| | * Added h  (origin/dev2)
| | * Added g 
| |/  
| * Added d 
| * Added c 
|/  
| * Added f  (origin/dev3)
| * Added e 
|/  
* Added a  (origin/recette, origin/master, origin/demo, origin/HEAD, master)
</code></pre>

<p>Vient le tour du <em>Développeur 3</em> de faire son merge sur la branche <code>dev</code> (rapidement) :</p>

<pre><code>$ git checkout dev
$ git fetch
$ git merge origin/dev
$ git merge --no-ff dev3
$ git push origin dev
$ git checkout dev3
</code></pre>

<p>On remarque que la branche <code>dev</code> ne contient <strong>QUE</strong> des merges. C'est super car c'est exactement ce que nous voulons !</p>

<pre><code>*   Merge branch 'dev3' into dev  (origin/dev, dev)
|\  
| * Added f  (HEAD, origin/dev3, dev3)
| * Added e 
| | * Added j  (origin/dev1)
| | * Added i 
| |/  
|/|   
* |   Merge branch 'dev1' into dev 
|\ \  
| * | Added b 
| |/  
* |   Merge branch 'dev2' into dev 
|\ \  
| |/  
|/|   
| | * Added h  (origin/dev2)
| | * Added g 
| |/  
| * Added d 
| * Added c 
|/  
* Added a  (origin/recette, origin/master, origin/demo, origin/HEAD, master)
</code></pre>

<p>Au tour du <em>Développeur 3</em> de replacer sa branche pour continuer ses développements correctement :</p>

<pre><code>$ git checkout dev3
$ git reset --hard dev
$ git push -f origin dev3
</code></pre>

<p>On peut aussi faire un pull de la branche <code>dev</code> :</p>

<pre><code>$ git checkout dev3
$ git pull origin dev
$ git push origin dev3
</code></pre>

<p><strong>Bien sûr un <code>reset --hard</code> suivi d'un <code>push -f</code> implique que votre environnement de travail soit vraiment propre avant toute manipulation.</strong></p>

<h3>La branche <code>recette</code></h3>

<p>On ne merge sur la <code>recette</code> que quand les développements sont validés. C'est à ce moment là que le chef de projets fait ses vérifications par rapport aux spécifications techniques générales et détaillées.</p>

<p>N'importe qui peut faire le merge de la <code>dev</code> sur la <code>recette</code> car on sait que seule la branche courante est impactée.</p>

<p>On merge la branche <code>origin/dev</code> pour être certain de prendre la dernière version :</p>

<pre><code>$ git checkout recette
$ git fetch
$ git merge origin/recette
$ git merge --no-ff origin/dev
$ git push origin recette
</code></pre>

<p>La branche <code>recette</code> contient bien nos derniers développements.</p>

<pre><code>*   Merge remote-tracking branch 'origin/dev' into recette  (HEAD, recette)
|\  
| *   Merge branch 'dev3' into dev  (origin/dev3, origin/dev, dev3, dev)
| |\  
| | * Added f 
| | * Added e 
| |/  
|/|   
| | * Added j  (origin/dev1)
| | * Added i 
| |/  
| *   Merge branch 'dev1' into dev 
| |\  
| | * Added b 
| |/  
|/|   
| *   Merge branch 'dev2' into dev 
| |\  
|/ /  
| | * Added h  (origin/dev2)
| | * Added g 
| |/  
| * Added d 
| * Added c 
|/  
* Added a  (origin/recette, origin/master, origin/demo, origin/HEAD, master)
</code></pre>

<h3>La branche <code>demo</code></h3>

<p>Le principe est identique à la branche <code>recette</code> sauf que c'est bien la branche <code>recette</code> que l'on merge sur la <code>demo</code>.</p>

<h3>La branche <code>master</code></h3>

<p>C'est un peu la branche de <em>prod</em>...</p>

<p>Même principe, on merge la branche <code>demo</code> sur la <code>master</code>.</p>

<h3>Les hotfixes ?</h3>

<p>C'est le dernier point important !</p>

<p>A un moment il est fort possible que vous ayez à faire un <em>hotfix</em> sur la branche <code>recette</code> par exemple.</p>

<p>Faites-le ! Et appliquez la modification sur la branche <code>dev</code> pour être certain que les développeurs récupèrerons la modification à un moment.</p>

<p>Pour ça vous pouvez procéder comme suit :</p>

<h4>Appliquer le hotfix</h4>

<pre><code>$ git checkout recette
[...fix...]
$ git fetch
$ git merge origin/recette
$ git commit -m "[hotfix] Added k"
$ git push origin recette
</code></pre>

<p>Il nous faut maintenant appliquer le commit sur toutes les <em>principales</em> branches du projet au dessus dans la hiérarchie des merges.</p>

<p>Dans ce cas au dessus de <code>recette</code> : c'est <code>dev</code>.</p>

<h4>Appliquer le hotfix sur la branche <code>dev</code></h4>

<p>Les branches <code>dev1</code>, <code>dev2</code> et <code>dev3</code> ne sont pas à impacter. Si votre équipe est bien organisée elle verra passer le <em>hotfix</em> et le récupèrera.</p>

<p>Soit de la manière que je vais vous montrer, soit via un reset comme nous l'avons vu plus haut.</p>

<p>Appliquez donc le hotfix sur la branche <code>dev</code> via la commande <code>git cherry-pick</code> !</p>

<p>Il vous faut au préalable le SHA1 du hotfix (au moins les premiers caractères) :</p>

<pre><code>$ git checkout dev
$ git fetch
$ git merge origin/dev
$ git cherry-pick 461c1ca
$ git push origin dev
</code></pre>

<h2>Conclusion</h2>

<p>Je ne suis pas certain que ce workflow soit le meilleur mais il a le mérite de fonctionner. Il permet de garder une arborescence propre.</p>

<p>Le fait de <code>reset --hard</code> la branche du développeur est assez particulier, mais c'est la seule manière que j'ai trouvé pour ne pas faire de duplicats de commits (comme on peut le voir avec <code>rebase</code>)
C'est essentiellement à cause de ces <code>reset</code> que je force le commit lors des merges avec l'option <code>--no-ff</code>. De cette manière mon historique indique bien qu'il y a eu un merge de tel développeur à tel moment.</p>

<p>Vos avis sont les bienvenus !</p>

 -->



    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/git-en-entreprise.html" data-text="Git en entreprise" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/git-en-entreprise.html#disqus_thread">Commentaires</a> -
        

        <a href="/git-en-entreprise.html">Lire l'article</a>

    </div>

    <hr />
    <h2><a href="/utiliser-un-proxy-sur-android.html">Android + Proxy = HTTP en clair</a></h2>
    <div class="content post">
        <p>Ce soir j'ai joué à un jeu (dont je ne donnerai pas le nom) sur mon téléphone, sous Android 4.1.1 (Jelly Bean).</p>

<p>Et il m'est venue l'idée de voir les requêtes envoyées par l'application pour enregistrer mon score...</p>

<p>Procédure très facile à réaliser !</p>

<!-- 




<hr />


<p>Ok tout d'abord je me suis dit que je pouvais peut-être sniffer les requêtes TCP depuis mon Mac à condition que le téléphone soit sur le même réseau... Pas possible.</p>

<p>Ensuite je me suis dit que j'allais simplement utiliser <a href="http://www.charlesproxy.com/">Charles</a>, un proxy HTTP très sympa. J'ai donc pensé à mettre en place le proxy directement sur mon téléphone. Sauf que oui, mais non... Le proxy en place sur la connexion WiFi du téléphone n'est utilisé que par le navigateur. Enfin c'est ce qu'Android m'annonce quand je change le proxy.</p>

<p>Soit.</p>

<p>Je décide donc de récupérer le APK de mon application (via <a href="http://airdroid.com">AirDroid</a>) et d'utiliser une machine virtuelle android.</p>

<p>Pour la machine virtuelle c'est simple... je prends le <a href="http://developer.android.com/sdk/index.html">SDK Android</a>.</p>

<h2>Installer un <code>Android Virtual Device</code></h2>

<p>Avant tout il nous faut donc une machine tournant sur Android. Pour ça on va simplement utiliser l'émulateur fourni avec le SDK.</p>

<p>Le SDK est fraîchement téléchargé et pas complet, on remédie au problème en lançant la jolie interface <code>;)</code> :</p>

<pre><code>~ $ cd Developper/android-sdk-macosx/tools/
~/Developper/android-sdk-macosx/tools $ ./android
</code></pre>

<p><img src="/images/posts/android-http-proxy/charles.png" alt="Android SDK Manager" /></p>

<p>On sélectionne l'API 16 (Android 4.1) et on installe tout ça !</p>

<p>Maintenant nous avons donc tout ce qu'il faut pour créer notre <code>AVD</code>.</p>

<p>On commence donc par lister les systèmes Android disponibles :</p>

<pre><code>~/Developper/android-sdk-macosx/tools $ ./android list targets
Available Android targets:
----------
id: 1 or "android-16"
     Name: Android 4.1
     Type: Platform
     API level: 16
     Revision: 2
     Skins: HVGA, QVGA, WQVGA400, WQVGA432, WSVGA, WVGA800 (default), WVGA854, WXGA720, WXGA800, WXGA800-7in
     ABIs : armeabi-v7a
</code></pre>

<p>Ensuite il nous faut créer notre <code>AVD</code> :</p>

<pre><code>~/Developper/android-sdk-macosx/tools $ ./android create avd -n android_4.1 -a -c 100M -t android-16
Auto-selecting single ABI armeabi-v7a
Android 4.1 is a basic Android platform.
Do you wish to create a custom hardware profile [no]
Created AVD 'android_4.1' based on Android 4.1, ARM (armeabi-v7a) processor,
with the following hardware config:
hw.lcd.density=240
vm.heapSize=48
hw.ramSize=512
</code></pre>

<p>Tapez <code>[enter]</code> ou <code>no</code> à la question sur le <code>hardware profile</code>.</p>

<h2>Lancer Charles et notre <code>AVD</code></h2>

<p>Avant de lancer notre nouvelle machine sous Android, nous devons lancer Charles.</p>

<pre><code>clic clic
</code></pre>

<p>Voilà qui est fait.</p>

<p>Et maintenant ? On lance notre émulateur !</p>

<p>Attention : nous devons dire à notre émulateur que toutes les requêtes TCP passent par notre proxy, pour se faire rien de bien compliqué, nous devons ajouter l'argument <code>-http-proxy localhost:8888</code> à la ligne de commande permettant de lancer l'émulateur :</p>

<pre><code>~/Developper/android-sdk-macosx/tools $ ./emulator @android_4.1 -http-proxy localhost:8888
</code></pre>

<p>Pourquoi <code>localhost:8888</code> ? Simplement parce que par défaut Charles est actif sur le port 8888 et que nous sommes donc en local (car notre machine virtuelle est... virtuelle).</p>

<p>Maintenant que nous avons une machine sous Android qui tourne et un proxy qui nous donne les informations sur toutes les requêtes TCP non chiffrées qui passent...</p>

<h2>Installer notre <code>APK</code> téléchargé sur notre <code>AVD</code></h2>

<p>Nous avons téléchargez notre <code>.apk</code> via <a href="http://airdroid.com">AirDroid</a> et nous devons maintenant l'installer sur notre machine Android :</p>

<p>On se déplace dans le dossier <code>platform-tools</code> où se situe le fameux <code>adb</code> :</p>

<pre><code>~/Developper/android-sdk-macosx/tools $ cd ../platform-tools/
</code></pre>

<p>On installe notre <code>apk</code> téléchargé :</p>

<pre><code>~/Developper/android-sdk-macosx/platform-tools $ ./adb install ~/Downloads/SuperApplication.apk
780 KB/s (1392781 bytes in 1.743s)
    pkg: /data/local/tmp/SuperApplication.apk
Success
</code></pre>

<p>Et maintenant on lance l'application sur la machine virtuelle (via le menu graphique... normal quoi) et on regarde ce que nous affiche Charles (qui enregistre ce qu'il se passe par défaut au lancement du logiciel).</p>

<h2>Conclusion</h2>

<p>On se rend compte que certaines applications (des jeux ? avec des scores ?) font transiter les informations en clair (connexion non sécurisée) et qu'il est donc très facile de reproduire un fonctionnement standard, avec de fausses valeurs (comment ça il a fait un score plus grand que le score maxi ???).</p>

<blockquote><p>Ca s'appelle tricher ça ! Oui MONSIEUR !</p></blockquote>

<p>En même temps... il existe un <a href="http://en.wikipedia.org/wiki/Transport_Layer_Security" title="Transport Layer Security">standard qui s'appelle TLS</a>.</p>

 -->





    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/utiliser-un-proxy-sur-android.html" data-text="Android + Proxy = HTTP en clair" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/utiliser-un-proxy-sur-android.html#disqus_thread">Commentaires</a> -
        

        <a href="/utiliser-un-proxy-sur-android.html">Lire l'article</a>

    </div>

    <hr />
    <h2><a href="/apprendre-a-utiliser-magento-installer.html">Utiliser l'Installer - Créer un grid en admin</a></h2>
    <div class="content post">
        <p>Dans mon article précédent je dévoile mon <strong>Installer</strong>.</p>

<p>Pour vous permettre de prendre en main et vous montrer les possibilités de l'outil je vais vous montrer comment faire un simple grid en admin, en 13mn et 30s.</p>

<p>A vos marques...</p>

<!-- 




<hr />


<p>Ce tutoriel utilise l'<strong>Installer</strong> : <a href="http://jacques.sh/the-installer-v1.html">En savoir plus sur l'Installer pour Magento</a></p>

<p>Tout d'abord on commence par déterminer ce dont nous avons besoin :</p>

<ol>
<li>Un module <code>Jbh_Grid</code></li>
<li>Un modèle <code>Foo</code>, une ressource <code>Foo</code> et une collection <code>Foo_Collection</code></li>
<li>Un routeur admin et son menu</li>
<li>Un contrôleur admin</li>
<li>2 blocs pour constituer le grid en admin (le container et le grid)</li>
<li>Un setup MySQL</li>
<li>Un helper Data pour les traductions, ainsi qu'un fichier de traductions <code>.csv</code></li>
</ol>


<p>Nous ne verrons pas ici comment faire le formulaire pour ajouter/éditer notre objet <code>Foo</code>.</p>

<h2>Création des fichiers grâce à l'Installer</h2>

<p>Lançons l'outil : (<a href="https://github.com/jacquesbh/Installer/tree/v1#bash-function-required">Voir le README</a>)</p>

<pre><code>$ jbh
The Installer - by jacquesbh
&gt;
</code></pre>

<p>On commence par créer notre module :</p>

<pre><code>&gt; mod jbh grid local
Using: Jbh_Grid in local
Jbh_Grid&gt;
</code></pre>

<p>Notez qu'on peut lancer l'Installer directement sur le module que l'on souhaite :</p>

<pre><code>$ jbh jbh grid local
The Installer - by jacquesbh
Using: Jbh_Grid in local
&gt;
</code></pre>

<p>Ensuite passons à notre "entité" :</p>

<pre><code>Jbh_Grid&gt; ent foo jbh_grid_foo
</code></pre>

<p>Vous pouvez bien sûr ne taper que <code>ent</code> ou <code>entity</code> et suivre les instructions :</p>

<pre><code>Jbh_Grid&gt; entity
Entity?
&gt; foo
Table?
&gt; jbh_grid_foo
</code></pre>

<p>A ce stade nous avons tous nos modèles.</p>

<p>Le routeur en admin :</p>

<pre><code>Jbh_Grid&gt; r admin foo_adminhtml
</code></pre>

<p>Pour le menu il nous faudra éditer manuellement le fichier <code>etc/adminhtml.xml</code> de notre module.</p>

<p>(N'y oublions pas les ACL ;))</p>

<p>Ensuite il nous faut notre contrôleur admin avec l'action grid :</p>

<pre><code>Jbh_Grid&gt; c adminhtml_index grid
</code></pre>

<p>Nous en sommes à l'étape où il nous faut créer le grid...</p>

<p>2 possibilités :</p>

<ul>
<li>Soit : créer le grid bloc après bloc, initialiser les blocs etc.</li>
<li>Soit : utiliser la commande grid qui fait (presque) tout à notre place</li>
</ul>


<p>Le choix est vite fait...</p>

<pre><code>Jbh_Grid&gt; grid foo
</code></pre>

<p>Il nous faut le setup pour créer notre table en base de données !</p>

<pre><code>Jbh_Grid&gt; setup
</code></pre>

<p>On termine par notre Helper Data : (vide)</p>

<pre><code>Jbh_Grid&gt; h data -
</code></pre>

<h2>Résumé des commandes</h2>

<p>Une fois que vous connaissez les commandes (alias + ordre des arguments) vous pouvez aller vraiment vite !</p>

<p>Vraiment vite... On reprend, en 30 secondes :</p>

<pre><code>$ jbh jbh grid local
The Installer - by jacquesbh
Using: Jbh_Grid in local
Jbh_Grid&gt; ent foo jbh_grid_foo
Jbh_Grid&gt; r admin foo_adminhtml
Jbh_Grid&gt; c adminhtml_index grid
Jbh_Grid&gt; grid foo
Jbh_Grid&gt; setup
Jbh_Grid&gt; h data -
Jbh_Grid&gt;
</code></pre>

<h2>Le SQL de notre table</h2>

<p>Réfléchissons 3 minutes pour construire notre table en base de données :</p>

<div class="highlight"><pre><code class="sql"><span class="k">CREATE</span> <span class="k">TABLE</span> <span class="o">`</span><span class="n">jbh_grid_foo</span><span class="o">`</span> <span class="p">(</span>
  <span class="o">`</span><span class="n">foo_id</span><span class="o">`</span> <span class="nb">int</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">unsigned</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="n">AUTO_INCREMENT</span> <span class="k">COMMENT</span> <span class="s1">&#39;The Foo ID&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="nb">text</span><span class="o">`</span> <span class="nb">text</span> <span class="k">COMMENT</span> <span class="s1">&#39;The text of our Foo&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">created_at</span><span class="o">`</span> <span class="n">datetime</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">COMMENT</span> <span class="s1">&#39;Creation date&#39;</span><span class="p">,</span>
  <span class="o">`</span><span class="n">updated_at</span><span class="o">`</span> <span class="n">datetime</span> <span class="k">NOT</span> <span class="k">NULL</span> <span class="k">COMMENT</span> <span class="s1">&#39;Update date&#39;</span><span class="p">,</span>
  <span class="k">PRIMARY</span> <span class="k">KEY</span> <span class="p">(</span><span class="o">`</span><span class="n">foo_id</span><span class="o">`</span><span class="p">)</span>
<span class="p">)</span> <span class="n">ENGINE</span><span class="o">=</span><span class="n">InnoDB</span> <span class="k">DEFAULT</span> <span class="n">CHARSET</span><span class="o">=</span><span class="n">utf8</span><span class="p">;</span>
</code></pre></div>


<p>Complétons notre setup :</p>

<script src="https://gist.github.com/3344499.js?file=app/code/local/Jbh/Grid/sql/jbh_grid_setup/mysql4-install-0.1.0.php"></script>


<h2>Notre menu admin</h2>

<p>Il nous faut éditer notre fichier <code>etc/adminhtml.xml</code> pour ajouter notre menu et les ACLs :</p>

<script src="https://gist.github.com/3344499.js?file=app/code/local/Jbh/Grid/etc/adminhtml.xml"></script>


<h2>Notre contrôleur admin</h2>

<p>On ajoute avant tout la méthode <code>_isAllowed()</code> à notre contrôleur :</p>

<pre><code>Jbh_Grid&gt; c adminhtml_index _isAllowed:bool
</code></pre>

<p>On complète assez rapidement !</p>

<script src="https://gist.github.com/3344499.js?file=app/code/local/Jbh/Grid/controllers/Adminhtml/IndexController.php"></script>


<h2>Complétons notre grid</h2>

<p>Il nous faut ajouter les colonnes à notre grid ainsi que le configurer un minimum...</p>

<h3>Le container</h3>

<script src="https://gist.github.com/3344499.js?file=app/code/local/Jbh/Grid/Block/Adminhtml/Foo.php"></script>


<h3>Le grid</h3>

<script src="https://gist.github.com/3344499.js?file=app/code/local/Jbh/Grid/Block/Adminhtml/Foo/Grid.php"></script>


<h2>N'oublions pas les traductions !</h2>

<pre><code>Jbh_Grid&gt; __
Where? (enter for front)
&gt; admin
Translate?
&gt; Foo #
Traduction for fr_FR?
&gt; Foo ID
Traduction for en_US?
&gt; 
Jbh_Grid&gt; __
Translate?
&gt; Text
Traduction for fr_FR?
&gt; Texte
Traduction for en_US?
&gt; 
Jbh_Grid&gt; __
Translate?
&gt; Manage Foos
Traduction for fr_FR?
&gt; Gérer les Foos
Traduction for en_US?
&gt; 
Jbh_Grid&gt;
</code></pre>

<p>Vous aurez remarqué que lors de l'ajout de la première ligne dans les fichiers de traduction l'Installer nous demande où nous voulons ajouter nos traductions. Tout simplement parce que la manipulation des traductions implique l'ajout d'un bout de config à notre module.</p>

<p>Et ça donne ça, pour le français par exemple :</p>

<script src="https://gist.github.com/3344499.js?file=app/locales/fr_FR/Jbh_Grid.csv"></script>


<h2>Conclusion</h2>

<p>Au final...</p>

<ul>
<li>30 secondes pour créer notre architecture</li>
<li>3 minutes pour créer le SQL et compléter le setup</li>
<li>5 minutes pour le fichier <code>adminhtml.xml</code></li>
<li>5 minutes pour terminer le grid</li>
</ul>


<p>Ce qu'on obtient : Un module propre, développé avec les conventions <code>Zend Framework</code>, sans erreur de config.</p>

<p>Surtout... le <code>config.xm</code>l... <code>&lt;3 &lt;3 &lt;3</code></p>

<script src="https://gist.github.com/3344499.js?file=app/code/local/Jbh/Grid/etc/config.xml"></script>


<p>Le bonheur quoi...</p>

<p>Vos avis sont les bienvenus !</p>

<p>Vous pouvez <a href="https://gist.github.com/3344499/download">télécharger ce module</a>.</p>

<h3>Astuce</h3>

<p>Pour avoir une licence personnalisée dans le haut de mes fichiers voici la commande que j'ai réellement lancée :</p>

<pre><code>$ LICENSE='WTFPL (http://sam.zoy.org/wtfpl/COPYING)' jbh jbh grid local
</code></pre>

 -->





    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/apprendre-a-utiliser-magento-installer.html" data-text="Utiliser l'Installer - Créer un grid en admin" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/apprendre-a-utiliser-magento-installer.html#disqus_thread">Commentaires</a> -
        

        <a href="/apprendre-a-utiliser-magento-installer.html">Lire la suite du tutoriel</a>

    </div>

    <hr />
    <h2><a href="/the-installer-v1.html">Je dévoile l'Installer</a></h2>
    <div class="content post">
        <p>Tout a commencé à Berlin en 2011...</p>

<p>(J'ai tout de même réussi – une seule fois – à perdre la totalité de 3 heures de travail...)</p>

<p>Si vous trouvez des bugs, si vous souhaitez améliorer.... n'hésitez pas c'est sur GitHub !</p>

<p>Ah aussi... je prépare une v2, mais je ne sais pas encore comment l'organiser... probablement avec un système modulaire permettant d'ajouter des commandes à volonté.</p>

<p>Amusez-vous !</p>

<p style="text-align: center;" class="code">
    PERSONNAL USAGE ONLY<br/>
    For professional or commercial use, ask.<br/>
    <a href="https://github.com/jacquesbh/Installer/tree/master" title="The Installer" style="font-size: 30px;">The Installer - v1</a>
</p>



    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/the-installer-v1.html" data-text="Je dévoile l'Installer" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/the-installer-v1.html#disqus_thread">Commentaires</a> -
        

        <a href="/the-installer-v1.html">Lire l'article</a>

    </div>


<div class="pagination">
    <hr/>
    
    
    
    <a href="/page3" class="previous">Précédent</a>
    
    –
    
    
    <span class="page_number">Page 4 sur 6</span>
    
    
    –
    <a href="/page5" class="next">Suivant</a>
    
    
</div>



</div>

<script type="text/javascript">
    var disqus_shortname = 'jacquesbh';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>



    </div>

    <div id="bottomWrap">
        <div id="contactWrap">
            <form action="#" method="post" id="contact_form">
                <h3>Contact</h3>
                <p>
                    <label for="contactNom">Votre nom</label>
                    <input type="text" name="contact_name" id="contact_name" class="text" tabindex="1" />
                </p>
                <p>
                    <label for="contactEmail">Votre email</label>
                    <input type="email" name="contact_email" id="contact_email" class="text" tabindex="2" />
                </p>
                <p>
                    <label for="contactMessage">Message</label>
                    <textarea name="contact_message" id="contact_message" rows="5" cols="30" tabindex="8"></textarea>
                </p>
                <p class="send">
                    <input type="hidden" name="redirect_to" value="http://jacques.sh/contact/thanks.html" />
                    <input type="submit" id="contactSend" value="Envoyer" tabindex="9" />
                </p>
                <div style="display: none;" class="url">http://getsimpleform.com/messages?form_api_token=4ba030c3b67553e1ccb25710aee63bd6</div>
            </form>
            <div class="qrcode">
                <h3>Mon QRcode</h3>
                <p>
                    <img src="/img/qrcode.png" alt="le QRcode" width="198" height="192" />
                </p>
            </div>
        </div>

        <div id="footerWrap">
            <div class="social">
                <a href="https://twitter.com/jacquesbh" class="twitter-follow-button" data-show-count="false">Follow @jacquesbh</a>
            </div>
            
            <a href="http://monsieurbiz.com" title="Découvrez Monsieur Biz, une agence spécialisée sur Magento, solution e-commerce">Agence Magento</a>
            | 

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
            
            <a href="/credits.html">Crédits</a>
        
    

    
        
    

    
        
            |
            <a href="/legals.html">Informations légales</a>
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    





            | <a href="/atom.xml">RSS</a>
            | <a href="#" id="toplink">Haut de page</a>
            <br />
            <span class="copy">&copy; Jacques Bodin-Hullin - 2013</span>
        </div>
    </div>

</div>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27192340-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





<script type="text/javascript" src="/js/jquery/cookies.js"></script>
    <div id="popin" class="monsieurbiz-popin" style="display: none;">
        <img src="/img/monsieurbiz.png" alt="" height="250" style="height: 250px;" />
        <h2><span class="lines">Un projet, Une agence</span></h2>
        <div class="action">
            <p>
                Monsieur Biz, une agence spécialisée Magento pour votre projet.
            </p>
            <a href="http://monsieurbiz.com">
                <div class="button1">C'est par ici que ça se passe !</div>
            </a>
        </div>
    </div>

    <script type="text/javascript">
        (function ($) {
            $(document).ready(function () {
                var cookieId = 'monsieurbizPopinDisplayed';
                if ($.cookie(cookieId) == null) {
                    $.fancybox.open('#popin');
                    $.cookie(cookieId, 'true');
                }
            });
         })(jQuery);
    </script>


<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</body>
</html>

