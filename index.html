

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title>Des articles sur Magento et plein d'autres choses ! - Jacques Bodin-Hullin, développeur Magento</title>
    
    
    <meta name="author" content="Jacques Bodin-Hullin">
    <link href="/css/style.css" rel="stylesheet" type="text/css" />
    <link href="/css/pygments.css" rel="stylesheet" type="text/css" media="all">
    <link href="/js/fancybox/jquery.fancybox.css" rel="stylesheet" type="text/css" media="all">
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="/favicon.ico">
  <!-- Update these with your own images
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
    <link rel="alternate" type="application/rss+xml" title="Jacques Bodin-Hullin - Latest Posts" href="/atom.xml" >

    <script type="text/javascript" src="/js/jquery-1.10.2.min.js" ></script>
    <script type="text/javascript" src="/js/bootstrap.min.js" ></script>
    <script type="text/javascript" src="/js/fancybox/jquery.fancybox.pack.js" ></script>
    <script type="text/javascript" src="/js/event.js" ></script>
    <script type="text/javascript" src="/js/functions.js" ></script>

    <style for="gists"></style>
</head>
<body class="">

<div id="mainWrap">

    <div id="topWrap">
        <div id="headerWrap">
            <h1>
                Jacques Bodin-Hullin
                <span class="baseline">Développeur d'applications Web</span>
            </h1>
            <a href="http://jacques.sh"></a>

            <div id="magento_certified">
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="L'Agence Monsieur Biz est certifiée Magento Solution Specialist" class="solution-specialist" target="_blank"></a>
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="L'Agence Monsieur Biz est certifiée Magento Developer Plus" class="developer-plus" target="_blank"></a>
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="Jacques Bodin-Hullin, développeur certifié Magento Developer" class="developer" target="_blank"></a>
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="Jacques Bodin-Hullin est développeur certifié Magento Front End Developer" class="frontend-developer" target="_blank"></a>
            </div>



        </div>

        <blockquote id="quoteWrap">
            
            <p>
                La perfection est atteinte non quand il ne reste rien à ajouter, mais quand il ne reste
                rien à enlever.
            </p>
            <div><cite>Antoine de Saint Exupéry</cite></div>
            
        </blockquote>

        <div class="menu-wrapper">
            <ul id="menu">
                
                <li class="current"><a href="/"><span></span>Accueil</a></li>
                
                <li><a href="https://github.com/jacquesbh" target="_blank"><span></span>Code</a></li>
                
                
    
        
    

    
        
            
            <li><a href="/a-propos.html"><span></span>A propos</a></li>
            
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    




                <li class="search">
                    <form action="/search.html" method="get" id="search_form">
                        <div>
                            <input type="text" name="q" placeholder="Votre recherche" />
                        </div>
                    </form>
                </li>
            </ul>
        </div>

        <div class="mbiz">
            <p>
                <a href="http://monsieurbiz.com" title="Découvrez l'agence Monsieur Biz, spécialiste Magento">
                    <img src="/img/monsieurbiz_bg.png" title="L'Agence Monsieur Biz" />
                    <span>Vous cherchez une agence spécialiste du e-commerce certifiée Magento Solution Specialist ? L'agence Monsieur Biz est faite pour vous !</span>
                </a>
            </p>
        </div>
    </div>

    <div id="globalWrap">



<div id="sideWrap">

<h2>A propos</h2>
<div>
    <img src="/img/visage_edito.png" alt="" width="277" height="88" />
    <p>Bienvenue sur mon blog !</p>
    <p>Je suis <a href="/a-propos.html">Jacques Bodin-Hullin, développeur PHP confirmé, certifié Magento</a>.</p>
    <p>Ce blog est dédié au développement, PHP essentiellement, Javascript un peu, et tout le reste, évidemment !</p>
    <p>N'hésitez pas à aller faire un tour <a href="https://github.com/jacquesbh">sur mon github</a> afin de suivre mes projets et à poster vos remarques sur les articles que vous trouvez ici, c'est toujours constructif !</p>
    <p>J'espère que vous trouverez ici l'information que vous cherchez.</p>
</div>

<div>
    <p>Je suis également le fondateur de <a href="http://monsieurbiz.com">Monsieur Biz, une agence spécialisée Magento</a>.</p>
</div>

<hr />




<h2>Tags</h2>

<p class="tags">

    <span style="font-size:14.4px"><a href="/search.html#!tag=Jekyll">Jekyll</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Markdown">Markdown</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=GitHub">GitHub</a></span>

    <span style="font-size:39.599999999999994px"><a href="/search.html#!tag=Magento">Magento</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Snippets">Snippets</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Vim">Vim</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Netbeans">Netbeans</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=jQuery">jQuery</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Javascript">Javascript</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=PHP">PHP</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=URL">URL</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=Bonnes pratiques">Bonnes pratiques</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Ajax">Ajax</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Homepage">Homepage</a></span>

    <span style="font-size:16.8px"><a href="/search.html#!tag=Layout">Layout</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=CMS">CMS</a></span>

    <span style="font-size:15.6px"><a href="/search.html#!tag=The Installer">The Installer</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Android">Android</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Proxy">Proxy</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=HTTP">HTTP</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Git">Git</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Workflow">Workflow</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=Cache">Cache</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Block">Block</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=Module">Module</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Cart">Cart</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Customer">Customer</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Handle">Handle</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Events">Events</a></span>

    <span style="font-size:15.6px"><a href="/search.html#!tag=Attributes">Attributes</a></span>

    <span style="font-size:15.6px"><a href="/search.html#!tag=Product">Product</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Product type">Product type</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=EAV">EAV</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Thème">Thème</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=MariaDB">MariaDB</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=MySQL">MySQL</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Images">Images</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Aides de vue">Aides de vue</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=OS X">OS X</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Astuces">Astuces</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=MageConf">MageConf</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Émulation">Émulation</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Meet Magento">Meet Magento</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Productivité">Productivité</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=SSL">SSL</a></span>

    <span style="font-size:14.4px"><a href="/search.html#!tag=Sécurité">Sécurité</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=COMODO">COMODO</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=gandi">gandi</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Fabric">Fabric</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Vagrant">Vagrant</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=AFUP">AFUP</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Monsieur Biz">Monsieur Biz</a></span>

    <span style="font-size:13.2px"><a href="/search.html#!tag=Apache">Apache</a></span>

</p>

<hr />



</div>


<div id="contentWrap">

    
    <h2>Sélection de références</h2>
    <div class="carrousel">
        <div class="goLeft">
            <!-- <a href="#" class="goLeft"><span>&lt;&lt;</span></a> -->
        </div>
        <div class="goRight">
            <!-- <a href="#" class="goRight"><span>&gt;&gt;</span></a> -->
        </div>
        <div class="content">
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="item">
                <h3>Gérant de SARL</h3>
                <p class="subitem">
                <a href="/references/gerantdesarl.html">
                <img src="/images/references/260x90/gerantdesarl.png" alt="Gérant de SARL" height="90" width="260" />
                </a>
                <a href="/references/gerantdesarl.html" class="detail">Voir le détail &gt;&gt;</a>
                </p>
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            <div class="item">
                <h3>Monsieur Biz</h3>
                <p class="subitem">
                <a href="/references/monsieurbiz.html">
                <img src="/images/references/260x90/monsieurbiz.png" alt="Monsieur Biz" height="90" width="260" />
                </a>
                <a href="/references/monsieurbiz.html" class="detail">Voir le détail &gt;&gt;</a>
                </p>
            </div>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </div>
    </div>
    <p class="voirPlus">
        <a href="/references.html">Voir toutes mes références &gt;&gt;</a>
    </p>
    


    <hr />
    <h2><a href="/2015/02/installer-certificat-ssl-apache.html">Installation de votre SSL + Top sécurité</a></h2>
    <div class="content post">
        <div class="carrousel">
    <img src="/images/posts/installer-certificat-ssl-apache/ssl-security--grade-a.png" width="608" />
</div>


<p>Maintenant que vous avez acheté <a href="http://jacques.sh/2014/08/certificat-ssl-business.html">votre certificat SSL Business</a> et que vous êtes prêt à l'installer sur votre serveur, voici quelques astuces pour obtenir la qualité optimale au niveau sécurité et ainsi éviter que votre site ne s'affiche pas sur certains navigateurs (Android etc.) à cause d'une alerte de sécurité !</p>

<!-- 


<hr />

<h3>Les ingrédients</h3>

<p>Pour réaliser cette recette il vous faudra :</p>

<ol>
<li>La clé de votre certificat : <code>jacques.sh.key</code> ;</li>
<li>Votre certificat : <code>jacques.sh.crt</code> ;</li>
<li>Le bundle de votre certificat : <code>jacques.sh.bundle</code>.</li>
</ol>


<p>Le premier ingrédient est facile à trouver puisque vous l'avez généré vous-même en même temps que votre <code>Certificate Signing Request</code> (<code>CSR</code>).</p>

<p>Le second, le certificat, vous est délivré par une <a href="http://jacques.sh/2014/08/certificat-ssl-business.html">autorité de certification telle que gandi</a> par exemple (là où vous l'avez acheté tout simplement).</p>

<p>La dernier est plus difficile à avoir. Voici comment faire.</p>

<h3>Le bon bundle</h3>

<p>Le bundle c'est votre chaîne de certification. C'est tout simplement un fichier qui contient les certificats de la chaine les uns en dessous des autres.<br/>
La chaine de certification commence par votre certificat et se termine par un certicat root. Par contre le bundle ne contient ni votre certificat ni le certificat root mais seulements ceux qui sont intermédiaires.
C'est pour cette raison que ces certificats sont aussi appelés des « intermédiaires » car c'est tout simplement leur rôle.</p>

<p>En général il y a 3 ou 4 certificats (en comptant le vôtre et le root) dans la chaîne (<a href="https://www.sslshopper.com/ssl-checker.html#hostname=google.com" target="_blank">exemple avec google</a>).</p>

<p>Le problème c'est d'avoir les bons intermédiaires pour avoir le bon bundle !</p>

<p>Prenons l'exemple d'un certificat Business COMODO chiffré avec l'algorithme SHA2 :</p>

<ol>
<li><code>jacques.sh.crt</code> : c'est le vôtre ;</li>
<li><code>COMODOExtendedValidationSecureServerCA2.pem</code> : c'est le dernier intermédiaire ;</li>
<li><code>COMODORSAAddTrustCA.crt</code> : c'est le second intermédiaire. Il est signé par un <code>root certificate</code> ;</li>
<li><code>AddTrust External CA Root.cer</code> : c'est le certificat root. Il est auto-signé et dans le « Trust Store », donc il ne lèvera pas d'exception de sécurité.</li>
</ol>


<p>Au passage, les seuls certificats auto-signés qui sont acceptés par défaut par votre navigateur sont ceux qui sont dans le Trust Store.</p>

<p>Et dans le bundle on met quoi alors ? Et bien on prend les intermédiaires et on les concatène dans leur priorité croissante : le plus proche de votre certificat en premier.</p>

<pre><code>-----BEGIN CERTIFICATE-----
[...]o/Br0Oksxgn
KKlHMd99SUW[...]
-----END CERTIFICATE-----
-----BEGIN CERTIFICATE-----
[...]bCBDQSBSb29
sHNA7qxcS1u[...]
-----END CERTIFICATE-----
</code></pre>

<p>De <code>-----BEGIN CERTIFICATE-----</code> à <code>-----END CERTIFICATE-----</code> c'est un certificat. Le premier est donc le contenu de <code>COMODOExtendedValidationSecureServerCA2.pem</code> et le second le contenu de <code>COMODORSAAddTrustCA.crt</code>.</p>

<p>On a notre <code>jacques.sh.bundle</code> !</p>

<p>Le problème c'est : <strong>comment on sait qu'on ne s'est pas trompé ?</strong></p>

<p>Un certificat est signé par un autre, sauf le root qui est auto-signé. Donc si on veut le « papa » d'un certificat, que ça soit un intermédiaire ou le certifiat final, il nous faut savoir qui l'a émis.<br/>
Pour ça on ouvre le certificat et on trouve le <code>Common name</code> du <code>Issuer</code>. En gros on veut le nom du certificat parent.</p>

<p>Voici un exemple avec un intermédiaire COMODO (présicément celui de notre exemple, le <code>COMODORSAAddTrustCA.crt</code>) :</p>

<p class="center">
    <img src="/images/posts/installer-certificat-ssl-apache/intermediate.png" width="608" />
</p>


<p>Le papa c'est donc <code>AddTrust External CA Root</code>. Oh bah tiens, c'est le root !</p>

<p>Une fois votre certificat installé sur votre serveur avec son bundle, pensez à vérifier que tout est bon ici : <a href="https://www.sslshopper.com/ssl-checker.html">https://www.sslshopper.com/ssl-checker.html</a><br/>
Ce site vous dira si votre chaîne n'est pas bonne.</p>

<p>On dit souvent qu'on a pas besoin d'inclure les intermédiaires. Mais il s'avère que certains navigateurs (surtout sur mobile) ne font pas de recherche pour trouver les certificats intermédiaires pour vous. Il faut les fournir !</p>

<p><em>Note : votre certificat doit être chiffré avec l'algorithme SHA2 car le SHA1 est en fin de vie. Par conséquent le SHA2 n'étant pas géré par tous les navigateurs à l'heure où j'écris ces lignes, il est possible que vous soyez obligé d'ajouter un intermédiaire "cross-signed" dans votre bundle. Plus d'infos ici sur les intermédiaires ici : <a href="http://wiki.gandi.net/fr/ssl/intermediate">http://wiki.gandi.net/fr/ssl/intermediate</a></em></p>

<h3>Installation sur Apache</h3>

<p>Là c'est super simple, il vous suffit de reproduire ça dans votre VirtualHost en changeant les chemins !</p>

<p>Évidemment n'oubliez pas de copier les fichiers sur votre serveur !</p>

<pre><code>&lt;IfModule mod_ssl.c&gt;
    # Activate SSL
    SSLEngine on

    # Certificates
    SSLCertificateFile /etc/ssl/certs/jacques.sh/jacques.sh.crt
    SSLCertificateKeyFile /etc/ssl/certs/jacques.sh/jacques.sh.key
    SSLCertificateChainFile /etc/ssl/certs/jacques.sh/jacques.sh.bundle
&lt;/IfModule&gt;
</code></pre>

<p>Et la sécurité dans tout ça ? Là on a notre certificat mais ça ne nous donne pas une note A+ sur <a href="https://www.ssllabs.com/ssltest/analyze.html">SSL Labs</a> !</p>

<p>On va ajouter quelques petits détails sous nos certificats :</p>

<pre><code># Security
SSLCipherSuite AES128+EECDH:AES128+EDH
SSLProtocol All -SSLv2 -SSLv3
SSLHonorCipherOrder On
Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains"
Header always set X-Frame-Options DENY
Header always set X-Content-Type-Options nosniff

# More security - Requires Apache &gt;= 2.4
SSLCompression off 
SSLUseStapling on 
SSLStaplingCache "shmcb:logs/stapling-cache(150000)"
</code></pre>

<p>Attention à la partie qui ne concerne que Apache >= 2.4 !</p>

<p>On a donc ceci dans notre VirtualHost :</p>

<pre><code>&lt;IfModule mod_ssl.c&gt;
    # Activate SSL
    SSLEngine on

    # Certificates
    SSLCertificateFile /etc/ssl/certs/jacques.sh/jacques.sh.crt
    SSLCertificateKeyFile /etc/ssl/certs/jacques.sh/jacques.sh.key
    SSLCertificateChainFile /etc/ssl/certs/jacques.sh/jacques.sh.bundle

    # Security
    SSLCipherSuite AES128+EECDH:AES128+EDH
    SSLProtocol All -SSLv2 -SSLv3
    SSLHonorCipherOrder On
    Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains"
    Header always set X-Frame-Options DENY
    Header always set X-Content-Type-Options nosniff

    # More security - Requires Apache &gt;= 2.4
    SSLCompression off 
    SSLUseStapling on 
    SSLStaplingCache "shmcb:logs/stapling-cache(150000)"
&lt;/IfModule&gt;
</code></pre>

<p>Vous trouverez plus d'infos sur la partie <a href="https://cipherli.st/">sécurité sur Cipherli.st</a> pour Apache/Nginx/Lighttpd/haproxy…</p>

<p>Avec la <code>CipherSuite</code> ci dessus certains navigateurs comme IE8 sur Windows XP ne pourront pas afficher votre site. C'est un choix qui n'est pas anodin.
Vous pouvez utiliser le <a href="https://mozilla.github.io/server-side-tls/ssl-config-generator/">générateur de configuration SSL proposé par Mozilla</a> pour avoir quelque chose qui vous convienne.</p>

<p>N'oublier pas de lancer un petit <code>apache2ctl -t</code> avant de recharger la configuration.</p>

<p>Et en dernier, <a href="https://www.ssllabs.com/ssltest/analyze.html">testez votre site sur ssllabs</a> !</p>

 -->





    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/2015/02/installer-certificat-ssl-apache.html" data-text="Installation de votre SSL + Top sécurité" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/2015/02/installer-certificat-ssl-apache.html#disqus_thread">Commentaires</a> -
        

        <a href="/2015/02/installer-certificat-ssl-apache.html">Lire l'article</a>

    </div>

    <hr />
    <h2><a href="/2015/02/bilan-2014-debut-2015.html">Bilan 2013-2014, en avant 2015 !</a></h2>
    <div class="content post">
        <p>Une fois n'est pas coutume il paraît. Alors pour une fois je vais faire un article sur l'année qui vient de s'écouler et un peu plus.</p>

<h3>2013</h3>

<p>En juillet 2013 je quitte la super équipe de <a href="http://capkod.com/">Capkod</a> afin de prendre quelques mois de vacances.</p>

<p>Plusieurs mois pendant lesquels je vais apprendre quelques technos et me remettre à jour. J'apprends par exemple à utiliser Puppet et Vagrant. Je vais aussi en profiter pour faire beaucoup de moto afin de me ressourcer un peu.<br/>
Je croise à plusieurs reprises l'association <a href="http://firegento.com/">Firegento</a> qui regroupe des <a href="http://monsieurbiz.com/">développeurs Magento</a> de toute l'Allemagne.</p>

<p>Ce départ de l'agence n'était pas annodin. Le but ? Monter une société de service en octobre 2013 : <a href="http://monsieurbiz.com/">L'agence Monsieur Biz</a> !</p>

<p>Les premiers clients sont là, tout va pour le mieux.</p>

<!-- 


<hr />

<h3>2014</h3>

<p>Là tout s'enchaine. Énormément de boulot, le premier gros client de la société me prend beaucoup de temps.</p>

<p>En février, lors de l'AG de l'<a href="http://afup.org/">AFUP</a>, on me demande si je souhaite faire partie du bureau de l'association. Évidemment j'accepte !<br/>
À la fin de la journée de cette Assemblé Générale ordinaire, je me retrouve propulsé dans l'organisation de deux des plus gros événements autour de PHP en France : le PHP Tour de Lyon et le Forum PHP à Paris.<br/>
Je serait donc au Conseil d'Aministration de l'association à partir de cette date.</p>

<p>La tension ne descend pas de l'année, toujours beaucoup de travail. Quelques hackathons, un Meet Magento en Allemagne, la rencontre de <a href="https://twitter.com/benmarks">Ben Marks</a> et de ses collègues chez Magento lors du Hackathon de Londres qui aura lieu juste avant le Magento Live UK 2014 !</p>

<p>On sort très peu de projets chez Monsieur Biz car nous avons peu de clients à nous. J'interviendrais en 2014 essentiellement sur des missions de sauvetage pour des collègues ou chez des clients directs.<br/>
Entre autre on peut citer l'amélioration du module de paiement Payline.</p>

<p>La nuit du 1er au 2 septembre 2014 sort la nouvelle version du site <a href="https://www.ooprint.fr/">ooprint.fr</a> après plusieurs mois de développement. Le rythme ne ralentit pas.</p>

<p>Une semaine plus tard c'est <a href="https://twitter.com/guireclefort">Guirec Lefort</a> qui rejoint l'aventure en tant que <a href="http://monsieurbiz.com/">Front-End Developer Magento</a> chez Monsieur Biz !</p>

<p>L'année se termine avec encore et toujours plus de fun : je prends un mois de "vacances" et je déménage vers Montrouge.<br/>
Juste le temps de penser au bilan de cette première année d'activité et de faire avancer les projets qui trainent un peu.</p>

<h3>2015 enfin !</h3>

<p>Le bilan est là, la société tourne correctement, aucune crainte.</p>

<p>Le planning est déjà quasiment plein pour les 6 mois à venir !</p>

<p>Lors de l'<a href="http://afup.org/">AG de l'AFUP</a> qui a eu lieu le 7 février 2015 au Beffroi de Montrouge je deviens membre du bureau et prends le rôle de trésorier.<br/>
2015 sera une année en Or pour l'AFUP ! ;)</p>

<p>Et si vous faisiez partie de cette aventure ?<br/>
En <a href="http://afup.org/">rejoignant l'AFUP</a> par exemple si vous êtes développeur PHP.<br/>
Ou en nous contactant pour <a href="http://monsieurbiz.com/">vos projets sur Magento</a> ?</p>

<p>J'espère trouver encore un peu de temps pour écrire quelques articles sur mon blog… On verra !<br/>
Dans tous les cas vous allez entendre parler de Monsieur Biz dans les prochains mois c'est certain. Et avec Magento 2 qui pointe le bout de son nez, on ne va pas disparaitre de sitôt !</p>

<p>Allez op ! Au boulot :)</p>

 -->





    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/2015/02/bilan-2014-debut-2015.html" data-text="Bilan 2013-2014, en avant 2015 !" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/2015/02/bilan-2014-debut-2015.html#disqus_thread">Commentaires</a> -
        

        <a href="/2015/02/bilan-2014-debut-2015.html">Lire l'article</a>

    </div>

    <hr />
    <h2><a href="/2015/02/demarrer-projet-vagrant-magento.html">Comment utiliser Vagrant et Magento ?</a></h2>
    <div class="content post">
        <p>Ça fait plusieurs fois qu'on me demande comment on utilise Vagrant chez <a href="http://monsieurbiz.com">Monsieur Biz</a>.</p>

<p>J'ai donc décidé de faire un article malgré le peu de temps que j'ai à ma disposition en ce moment.</p>

<p>L'idée c'est de vous montrer comment on fonctionne.
Après libre à vous de nous faire quelques PR sur Github, ou encore de ne pas utiliser notre box, tout simplement !</p>

<p>Je vous expliquerai aussi pourquoi nous ne passons pas sur Docker pour le moment.</p>

<p>Pour les plus impatients, vous trouverez la <a href="https://github.com/monsieurbiz/vagrant-magento">Vagrant Box Magento de Monsieur Biz sur Github</a>.</p>

<!-- 


<hr />

<p>Pour ceux qui ne sont pas habitués à Vagrant, sachez que ça n'est pas très compliqué.<br/>
Par ailleurs je vais essayer de donner un maximum d'explications.</p>

<p><em>NB : Je suis exclusivement sur Mac. Donc il est très très fort probable que la box ne fonctionne pas pour vous si vous êtes sur Windows ou Linux.</em></p>

<h2>Le Vagrantfile</h2>

<p>Ce fichier est le point de départ de votre Vagrant. Je vais tenter d'expliquer celui que j'ai réalisé.</p>

<script src="http://gist-it.appspot.com/https://github.com/monsieurbiz/vagrant-magento/blob/master/Vagrantfile"></script>


<p>Au tout début il s'agit de quelques commentaires pour dire à Vim d'utiliser la syntax de ruby.<br/>
Ensuite vient le nom d'hôte de votre projet, ici <code>vagrant-mage.dev</code>. On utilise <code>.dev</code> car ça permet d'éviter la résolution des DNS.
Juste en dessous on a l'IP utilisée pour Virtualbox. Si vous utilisez Virtualbox, faites en sorte ici d'avoir une IP différente pour chacun de vos projets.</p>

<p>Bon ensuite viennent les deux lignes qui permettent de rentrer dans la configuration de la box à proprement parler :</p>

<pre><code>VAGRANTFILE_API_VERSION = "2"
Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
</code></pre>

<p>Là on entre simplement dans la configuration, comme l'indique bien le <code>Vagrant.configure</code>.</p>

<p>Au tout début on a la configuration pour VMWare :</p>

<ul>
<li>On sélectionne précisément la box qu'on veut télécharger (elle ne l'est qu'une seule fois) ;</li>
<li>On précise la puissance de la VM ;</li>
<li>On ajoute une seconde interface ethernet. L'idée ici c'est d'avoir une seconde adresse IP dispo sur VM sur le même sous-réseau que la machine hôte. On utilise cette interface pour tester nos sites sur des machines virtuelles Windows.</li>
</ul>


<p>Ensuite il y a une configuration pour Virtual Box :</p>

<ul>
<li>Même chose on précise la box qu'on veut utiliser ;</li>
<li>On améliore un peu les perfs de Virtual Box ;</li>
<li>On assigne l'adresse IP qui est en haut du fichier.</li>
</ul>


<p><strong>Pourquoi choisir VM Ware et pas Virtual Box ?</strong></p>

<blockquote><p>Je suis parti du constat que Virtual Box est lent. La copie des fichiers, si ça n'est pas en NFS, est basée sur la solution native de Virtual Box : une horreur.<br/>
Finalement au bout de quelques mois j'ai tout simplement testé VMWare. Il s'avère que ma machine de dev basée sur Vagrant et VMWare est tout aussi rapide, voire plus rapide, que les serveurs de prod. Donc je n'ai pas cherché plus longtemps, le choix était fait.</p></blockquote>

<p>Ensuite on a un peu de configuration réseau. Et surtout l'assignation du hostname à la ligne <code>config.vm.hostname</code>.</p>

<p>Le plus important c'est les dossiers partagés. On utilise NFS afin de gagner en performances (c'est "juste" ce qu'on utilise entre les serveurs pour partager des dossiers…).<br/>
<a href="https://github.com/IvanChepurnyi">Ivan Chepurnyi</a> et moi-même nous sommes amusés fin 2013 lors d'un Hackathon à Leipzig en Allemagne à améliorer les performances de NFS. C'est pour cette raison qu'on y trouve plein de trucs étranges du genre :</p>

<pre><code>mount_options: ["nolock", "async"],
bsd__nfs_options: ["alldirs","async","nolock"]
</code></pre>

<p>À noter que les options <code>bsd__nfs_options</code> sont dédiées à OSX (et à BSD du coup…) ;</p>

<p>Les lignes suivantes permettent de modifier le fichier <code>/etc/hosts</code> de votre machine afin de ne pas s'embêter avec l'IP auto-assignée par VMWare à la machine virtuelle :</p>

<pre><code># "Provision" with hostmanager
config.vm.provision :hostmanager
</code></pre>

<p>Ensuite on initialise la Vagrant avec Puppet !</p>

<p>On y retrouve quelques paramètres de personnalisation. Les voici expliqués avec des commentaires :</p>

<script>gist('jacquesbh/cab7770ec953e653379d', 'factors.rb');</script>


<p>Le dernier truc sympa c'est ça :</p>

<script>gist('jacquesbh/cab7770ec953e653379d', 'localfile.rb');</script>


<p>Ici c'est très simple. Si vous avez un fichier <code>LocalVagrantfile.rb</code> à la racine de votre projet (au même endroit que le <code>Vagrantfile</code> et bien celui-ci sera chargé.<br/>
Ça permet d'avoir un fichier dédié à votre projet, ou un fichier juste pour vous.<br/>
Personnellement ce fichier est dans mon <code>~/.gitignore</code>. Ainsi je peux ajouter des interfaces réseau, faire un peu de custom, etc. et ça uniquement pour moi !</p>

<h2>Et sinon, elle contient quoi ta Vagrant ?</h2>

<p>La box contient plein de choses !</p>

<p>Entre autres :</p>

<ul>
<li><a href="https://github.com/jacquesbh/installer">L'Installer pour Magento (<em>a PHP command line tool for Magento extension development and scaffolding</em>)</a> accessible par défaut ;</li>
<li><a href="https://github.com/netz98/n98-magerun">Magerun</a> ;</li>
<li><a href="https://github.com/colinmollenhour/modman">Modman</a> ;</li>
<li>Deux certificats SSL : <code>*.vagrant-mage.dev</code> et <code>[www.]vagrant-mage.dev</code> (car ici le hostname est sur <code>vagrant-mage.dev</code> mais si vous le changez alors les certificats seront adaptés par Puppet) ;</li>
<li>Du coup 3 <code>VirtualHost</code> sur Apache qui gèrent les domaines suivants en <code>http</code> et <code>https</code> : <code>*.vagrant-mage.dev</code> et <code>vagrant-mage.dev</code>. C'est super pratique si vous voulez tester votre projet avec un SSL. Surtout que maintenant c'est une bonne pratique d'être full SSL.</li>
<li>Mailcatcher : Afin qu'aucun email ne se disperse dans l'Internet Mondial hein. Pour le lancer c'est simple : <code>mailcatcher --ip=0.0.0.0</code>.</li>
<li>Quelques outils : <code>git</code>, <code>tmux</code> (avec <a href="https://gist.github.com/jacquesbh/9187257">config perso</a>), <code>screen</code> (avec <a href="https://github.com/jacquesbh/dotfiles/blob/master/.screenrc">config perso</a>, <code>htop</code> et <code>vim</code>.</li>
<li><a href="http://casperjs.org/">CasperJS</a>, et donc du coup <a href="http://phantomjs.org/">PhantomJS</a>.</li>
<li><a href="https://getcomposer.org/">Composer</a></li>
<li><a href="https://phpunit.de/">PHPUnit</a></li>
<li>MySQL évidemment. Du coup si vous avez un fichier <code>database.sql.gz</code> à la racine de votre projet (avec votre <code>Vagrantfile</code>) alors il sera importé au premier lancement.</li>
</ul>


<h2>Installer hostmanager</h2>

<p><code>hostmanager</code> est un petit plugin vagrant qui permet de modifier votre fichier <code>/etc/hosts</code> comme je l'indique un peu plus haut dans l'article. Pour l'installer :</p>

<pre><code>vagrant plugin install vagrant-hostmanager
</code></pre>

<h2>Comment démarrer un projet avec la Vagrant Box Magento ?</h2>

<p>Commencez par cloner le projet où vous voulez : <code>git clone https://github.com/monsieurbiz/vagrant-magento.git</code></p>

<p>Ensuite créez le dossier de votre projet et copiez-y les fichiers et dossiers <code>Vagrantfile</code> et <code>puppet/</code>.<br/>
Le dossier <code>htdocs/</code> doit exister également, c'est dans celui-ci que vous mettrez votre projet Magento.</p>

<p>C'est parti pour un <code>vagrant up</code> !</p>

<p>Là ça va tout installer et tout et tout…</p>

<p>Ensuite rendez-vous dans votre navigateur sur <code>http://vagrant-mage.dev</code> ou <code>https://vagrant-mage.dev</code>.</p>

<p>Pensez à aller en SSH dans votre dossier Magento : <code>vagrant ssh</code> puis <code>cd /vagrant/htdocs</code>.<br/>
Là vous pouvez lancer <code>magerun</code> par exemple ! Ou encore <code>installer</code> !</p>

<h2>C'est fini !</h2>

<p>J'ai rédigé cet article très très rapidement, alors si vous avez des remarques ou questions, n'hésitez pas !</p>

<p>:)</p>

 -->





    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/2015/02/demarrer-projet-vagrant-magento.html" data-text="Comment utiliser Vagrant et Magento ?" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/2015/02/demarrer-projet-vagrant-magento.html#disqus_thread">Commentaires</a> -
        

        <a href="/2015/02/demarrer-projet-vagrant-magento.html">Lire l'article</a>

    </div>

    <hr />
    <h2><a href="/2014/09/fabric-magento.html">Fabric et Magento, le combo gagnant !</a></h2>
    <div class="content post">
        <div class="carrousel" style="height: 145px;">
    <img src="/images/posts/fabric-magento/fabric.png" width="608" height="145" />
</div>


<p>Fabric est une librairie Python et un outil en ligne de commande pour le déploiement facile et/ou l'administration système via le protocole SSH.</p>

<p>Avec un simple petit fichier, le <code>fabfile.py</code>, vous allez pouvoir vous connecter sur vos serveurs, en simultané ou l'un après l'autre, et y exécuter des commandes.</p>

<p>Sur de petits projets c'est vraiment magique et très simple d'utilisation. Mais très vite on est confronté à un problème :</p>

<blockquote><p>Je veux lancer un déploiement en une seule commande mais mes serveurs ne font pas tous la même chose !</p></blockquote>

<p>J'ai passé un bon moment à chercher une parade à tout ça tout en restant dans l'esprit de fabric ;</p>

<!-- 


<hr />

<p>Prenons un exemple concret.</p>

<p>Nous avons 2 serveurs :</p>

<ol>
<li>Le premier [le serveur Back] est un serveur dédié au Back Office de notre e-commerce. C'est également lui qui s'occupe de la base de données (partagée entre les deux serveurs) et du cache avec un Redis.</li>
<li>Le second [le serveur Front] est un serveur dédié au Front Office. On va considérer qu'il n'a qu'un Apache pour simplifier. Evidemment il a un client MySQL et un client Redis.</li>
</ol>


<p>Quand nous voulons déployer il nous suffit de lancer la commande :</p>

<pre><code>fab deploy
</code></pre>

<p>Et c'est là que nous avons un problème. La commande <code>deploy</code> peut ressembler à ceci :</p>

<script type="text/javascript">gist('jacquesbh/349c538bdbf179fd333b', 'deploy.py');</script>


<p>Si on y regarde de plus près :</p>

<ul>
<li>La récupération des sources sur notre projet doit être exécutée à la fois sur le serveur Back et le serveur Front. Car tous les deux ont une version de notre Magento installée.<br/>
Le premier pour afficher le Back Office et le second pour afficher le Front Office ; Jusque là rien de bien foufou.<br/>
Vous noterez que le chemin d'accès aux sources doit ici être le même sur les deux serveurs : pas pratique.</li>
<li>Le vidage du cache ne doit être exécuté que sur le serveur Back, car c'est lui qui gère la base de données Redis. Ça ne sert à rien de lancer cette commande sur le serveur Front car il se connecte sur le Redis du serveur Back.</li>
<li>La réindexation n'a aucun intérêt à être lancée sur le serveur Front. Pour les mêmes raisons que Redis, c'est le serveur Back qui s'occupe de la base de données.<br/>
Même remarque pour l'emplacement des sources, on ne peut pas avoir un dossier différent.</li>
</ul>


<p>Donc si on laisse faire cette commande <code>deploy</code> alors Fabric va planter dès le vidage du cache. Car au final sur le serveur Front… il n'y a pas de base de données Redis : donc pas de cache à vider.<br/>
Voire même dès la récupération des sources si notre chemin n'est pas le même sur les deux serveurs !</p>

<p>La réindexation ne fera pas planter notre déploiement mais fera deux réindexations au lieu d'une seule ; Pas idéal…</p>

<h2>Et si on ajoutait des tags à nos serveurs ?</h2>

<p>Ma solution a été de tagguer les différents serveurs.</p>

<blockquote><p>Celui-ci a un Redis, lui un Apache, lui il gère la base de données…</p></blockquote>

<p>Ainsi le vidage du cache pourra se dérouler comme suit :</p>

<script type="text/javascript">gist('jacquesbh/349c538bdbf179fd333b', 'clean_cache.py');</script>


<p>Seuls les serveurs avec le tag <code>redis</code> exécuteront le <code>run()</code>.</p>

<p>Avec cette idée de tags en tête j'ai pu faire évoluer mon <code>fabfile.py</code> de manière assez monstrueuse.<br/>
Je peux maintenant ajouter un serveur de production simplement en ajoutant sa configuration.</p>

<h2>Le <code>fabfile.py</code></h2>

<p>Voici donc comment ça se passe concrètement.</p>

<h3>Déclaration des serveurs et settings de base</h3>

<script type="text/javascript">gist('jacquesbh/349c538bdbf179fd333b', 'setting.py');</script>


<p>Ici on déclare nos serveurs et pour chacun les informations suivantes :</p>

<ul>
<li>Les <code>tags</code> : Nos fameux tags !</li>
<li>Le <code>path</code> : Il s'agit du chemin pour accéder à notre Magento sur le serveur.</li>
</ul>


<p>Petit plus : On va ici gérer des tags mais aussi de la configuration propre à chaque serveur ; Comme le <code>path</code> par exemple !</p>

<h3>La fonction <code>_has_tag()</code></h3>

<p>Dans nos différentes tâches nous aurons besoin de savoir si le <code>host</code> qui est en cours a, ou n'a pas, un tag précis.</p>

<p>Voici la méthode :</p>

<script type="text/javascript">gist('jacquesbh/349c538bdbf179fd333b', 'has_tags.py');</script>


<p>Celle-ci utilise <code>_get_setting()</code> qui permet de récupérer une configuration propre au <code>host</code> en cours (ou toute sa configuration) :</p>

<script type="text/javascript">gist('jacquesbh/349c538bdbf179fd333b', 'get_setting.py');</script>


<p>À présent nous pouvons appeler la fonction <code>_has_tag('redis')</code> par exemple pour savoir si le <code>host</code> en cours utilise Redis.</p>

<h3>Exemple de déploiement</h3>

<p>Voici donc un exemple de tâche de déploiement avec la configuration que nous venons de créer, dans la simplicité :</p>

<script type="text/javascript">gist('jacquesbh/349c538bdbf179fd333b', 'deploy_final.py');</script>


<p>Vous noterez que nous n'avons donc plus un seul soucis. Chaque serveur exécute ses tâches et chaque serveur a son propre <code>path</code>.</p>

<h2>Aller plus loin</h2>

<p>Et si on tagguait nos serveurs par environnement ?</p>

<blockquote><p>Celui-ci c'est un serveur de prod avec redis, mysql et apache.<br/>
Lui c'est un serveur de staging avec apache et mysql. Et il a un cache en fichiers car pas de redis.<br/>
Celui-là c'est le serveur de backup. Il a juste le droit de backuper !</p></blockquote>

<p>Et si on a lancé une commande de backup sur un pool de serveurs de prod ?</p>

<script type="text/javascript">gist('jacquesbh/349c538bdbf179fd333b', 'backup.py');</script>


<p>Je vous laisse cogiter ;)</p>

 -->





    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/2014/09/fabric-magento.html" data-text="Fabric et Magento, le combo gagnant !" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/2014/09/fabric-magento.html#disqus_thread">Commentaires</a> -
        

        <a href="/2014/09/fabric-magento.html">Lire l'article</a>

    </div>

    <hr />
    <h2><a href="/2014/08/certificat-ssl-business.html">Votre certificat SSL Business</a></h2>
    <div class="content post">
        <p><em>[Dernière mise à jour le 14/02/2015.]</em></p>

<p>Un certificat SSL, pour Secure Socket Layer, est basé sur plusieurs fichiers qui permettent le chiffrement des données entre le client (vous) et un site tiers.</p>

<p>En e-commerce nous avons souvent recourt à un certificat SSL pour sécuriser les données que vous échangez avec le site marchand. Comme par exemple votre adresse postale, vos informations de connexion et bien plus encore.</p>

<p>Là où le certificat est important c'est dans le tunnel de commande.</p>

<p>Chez <a href="http://monsieurbiz.com/">Monsieur Biz nous utilisons des certificats SSL Business</a> : un certificat "Business" permet au e-commerçant d'avoir une plus grosse assurance en cas de problème de sécurité lié au certificat.<br/>
Et surtout vous obtenez une « Green Bar ».</p>

<p>Il y a plusieurs types de certificats mais nous n'allons retenir que les suivants :</p>

<ul>
<li>Le certificat dit <strong>auto-signé</strong> qui n'est pas signé par une autorité de certification.</li>
<li>Le certificat <strong>signé simple</strong> qui est signé par une autorité de certification.</li>
<li>Le certificat <strong>signé « Green Bar »</strong> qui, en plus d'être signé par une autorité de certification, affiche une barre verte dans le navigateur.</li>
</ul>


<p>Un certificat, s'il est signé, protège aussi bien les informations transmises entre le client et le serveur avec ou que sans barre verte.</p>

<p class="center"><img src="/images/posts/certificat-ssl-business/certificat-business.png" width="350" /></p>


<p>Ici on a par exemple google.fr qui propose un certificat sans Green Bar et Gandi qui a un certificat avec Green Bar.<br/>
Le premier certificat en revanche est auto-signé. Chez Monsieur Biz nous utilisons des certificats auto-signés pendant nos développements afin de vérifier le bon fonctionnement du site e-commerce Magento avec un certificat SSL.</p>

<p>Le point important est qu'une Green Bar n'est pas délivrée à n'importe qui. La société demandeuse doit passer une vérification de la part de l'autorité de certification.<br/>
Pour Google encore une fois, c'est différent, car ils ont leur propre autorité de certification et peuvent donc créer autant de certificats qu'ils le souhaitent.</p>

<p>C'est le sujet de cet article : <strong><a href="/2014/08/certificat-ssl-business.html">Comment obtenir un certificat business avec une Green Bar chez COMODO via gandi.net ?</a></strong></p>

<p><small><em>Comodo est une autorité de certification</em></small></p>

<!-- 


<hr />

<p>Tout d'abord nous devons acheter notre certificat.</p>

<p><a href="https://www.gandi.net/ssl">Chez gandi il existe 3 types de certificats</a> :</p>

<ul>
<li>Les <strong>certificats standards</strong>, qui ne nécessitent pas de validation poussée. Par contre comme tous les certificats il faudra prouver que le domaine qu'on veut protéger nous appartient.</li>
<li>Les <strong>certificats pro</strong>, qui nécessitent, en plus de la vérification standard, une valitation sera ensuite à effectuer : KBis de la société + Copie Carte d'identité + Appel de COMODO pour terminer la validation.</li>
<li>Les <strong>certificats business</strong>, qui nécessitent, en plus de la vérification standard, une validation étendue. C'est la suite de cet article.</li>
</ul>


<h2>L'achat</h2>

<p>Choisissez le certificat que vous souhaitez acheter ainsi que la durée de validité de celui-ci. Je vous conseille de prendre 2 ans directement pour plusieurs raisons :</p>

<ul>
<li>2 années c'est plus long qu'une seule.</li>
<li>C'est moins cher à l'année !</li>
</ul>


<p>Vous avez le choix entre un certificat avec ou sans SGC (Server Gated Cryptography). C'est à vous de voir. Le SGC permet d'avoir un certificat qui fonctionne avec les vieux navigateurs. Si votre site web est truffé de Javascript et de HTML5 + CSS3 à gogo, alors ça n'est peut-être pas la peine de prendre l'option SGC.<br/>
Après c'est vrai que c'est le même prix...</p>

<p>Concernant le choix du Logiciel utilisé, prenez <code>Apache/ModSSL</code>. De nos jours ça n'a plus grande importance. Un certificat pour <code>apache</code> fonctionnera normalement aussi pour <code>nginx</code> etc.</p>

<h2>La génération du CSR</h2>

<p>Le CSR est une clé que vous devez générer. Vous obtenez ainsi deux fichiers lors de la génération, un fichier <code>.csr</code> (le fichier dont nous avons besoin) et un fichier <code>.key</code> (fichier que vous devez garder précieusement !).</p>

<p>Vous pouvez générer la commande permettant d'obtenir ces deux fichiers via le <a href="https://www.gandi.net/ssl/create/openssl">générateur proposé par gandi</a>. La commande devra ensuite être lancée sur une console UNIX avec openssl (sur mac ou linux).<br/>
À la fin de la commande proposée par Gandi, ajoutez <code>-sha256</code> afin de changer l'algorithme de chiffrage qui sera utilisé. En effet le SHA1 est en fin de vie, il vous faut utiliser SHA2.</p>

<p><strong>Attention !</strong> Renseignez les bonnes informations pour le CSR ! On vous demande par exemple l'<strong>Organisation : il s'agit de la raison sociale</strong> et non pas du nom commercial ! C'est très important !</p>

<p>Prenez ensuite le contenu du fichier <code>.csr</code> (c'est un fichier texte) et collez ce contenu dans le champ dédié lors de l'achat du certificat. Payez, et on passe à la suite.</p>

<h2>Validation par email</h2>

<p>La première validation est faite par email par gandi. Vous allez recevoir un email vous demandant de cliquer sur un lien pour valider cette première étape. Faites-le !</p>

<h2>Validation du domaine</h2>

<p>Une fois votre certificat acheté vous allez devoir effectuer la validation de votre domaine. Le plus simple c'est de faire une vérification par fichier si vous le pouvez, c'est simple, rapide et ne demande pas de connaissances techniques.</p>

<p>Une fois le domaine validé vous allez recevoir plusieurs emails :</p>

<ul>
<li>Un de gandi avec un document indiquant la référence du certificat chez eux.</li>
<li>Et un de COMODO vous demandant de leur envoyer plusieurs documents.</li>
</ul>


<h2>Les documents pour COMODO et gandi</h2>

<p>N'hésitez pas à aller faire un tour sur <a href="http://wiki.gandi.net/fr/ssl/documents/business">le Wiki de gandi pour avoir de plus amples informations sur les documents à envoyer à COMODO pour un certificat Business</a>.</p>

<p>Vous devez donc avoir les documents suivants :</p>

<ul>
<li>La page de garde GANDI.</li>
<li>La page de garde COMODO.</li>
<li>Kbis de votre société de moins de 3 mois.</li>
<li>Le contrat COMODO signé.</li>
<li>Le formulaire COMODO complété.</li>
</ul>


<p>Vous pouvez joindre une lettre (en anglais) si vous le souhaitez pour préciser votre demande.</p>

<p>Tous les documents sont à envoyer à la fois à COMODO et également à GANDI.</p>

<p>Je vous conseille de procéder comme suit :</p>

<ul>
<li>Envoyez un email à COMODO et GANDI avec une archive contenant vos documents scannés. Le mail du support France de gandi est <em>support-fr [at] support.gandi.net</em>. Attention au poids de votre archive !! Pour le mail de COMODO ils vous le donnent dans leur message.</li>
<li>Envoyez un FAX à COMODO avec vos documents.</li>
</ul>


<p>Une fois que c'est fait vous n'avez plus qu'à attendre. À noter que COMODO passera un appel téléphonique aux différentes personnes indiquées sur le formulaire.</p>

<p><em>Attention : COMODO doit vous appeler. Par conséquent ils vont vouloir vérifier le numéro de téléphone. Si vous êtes dans les Pages Jaunes et que le numéro correspond alors ça ira très bien. Sinon vous devez apparaître sur un site qui donne votre numéro officiel. Du coup évitez votre numéro de portable !</em><br/>
<em>Si vous avez une ligne SIP alors pensez à la redirection de l'appel vers votre mobile… car évidemment ils appelleront quand vous ne serez pas prêt du fixe, à coup sûr !</em>
<em>Gardez votre téléphone sur sonnerie jusqu'à ce que la validation soit faite si vous ne voulez pas attendre trop longtemps. D'expérience ils se fichent un peu de savoir dans quel fuseau horaire vous êtes :).</em></p>

<p><em>Autre chose, si vous êtes seul dans votre société, ça ne va pas aider. La personne qui va vous appeler va demander à vérifier votre identité auprès d'un collègue. Dites simplement que vous êtes "self employed" et que vous n'avez pas de collègue. Soit la personne comprend et ça passe, soit elle demande quand vos collègues vont revenir et dans ce cas elle n'a rien compris. Faites en sorte qu'elle comprenne.</em><br/>
<em>Et comme elle va insister, dites-lui de vérifier votre société via <strong>Dun &amp; Bradstreet</strong> (<a href="http://www.dnb.com/">http://www.dnb.com/</a>)</em></p>

<p>Et sinon le formulaire… non parce qu'il est un peu barbare tout de même !</p>

<h2>Remplir le formulaire étendu COMODO</h2>

<p>Là c'est pas simple quand on ne sait pas à quoi correspondent les différents champs ! Surtout que c'est de l'anglais bien incompréhensible.</p>

<p>Je me suis amusé, avec l'aide de gandi, à donner une signification à tous les champs du formulaire.</p>

<p>Dans le désordre :</p>

<ul>
<li><strong>Organization Name</strong> : Raison sociale de la société. Il s'agit aussi du nom de l'organisation que vous avez indiqué pour le CSR.</li>
<li><strong>Assumed Name</strong> : Nom commercial utilisé. Il s'agit du nom par lequel vos clients vous connaissent. Le nom de votre site internet par exemple.</li>
<li><strong>Domain Name(s)</strong> : Nom(s) de domaine. Mettez le (ou les, mais pour un certificat business, c'est un seul domaine) que vous voulez protéger avec votre certificat. Il s'agit du même domaine que celui utilisé pour le CSR.</li>
<li><strong>Jurisdiction of Incorporation</strong> : Il s'agit des infos de votre RCS. Donc la ville, le département et le Pays (FRANCE !)</li>
<li><strong>Incorporating Agency</strong> : Pour nous ça sera gandi. C'est eux qui nous délivrent le certificat au final.</li>
<li><strong>Registration Number</strong> : Il s'agit du numéro SIREN de la société.</li>
<li><strong>Certificate Requester</strong> : Ici il faut indiquer les coordonnées de la société ou de la personne qui fait la demande. Soit c'est vous-même, soit c'est votre agence web (par exemple). De manière générale chez Monsieur Biz nous ne faisons qu'accompagner notre client dans les démarches. Notre client renseigne donc ici ses propres coordonnées. Attention à préciser un numéro de téléphone qui est vérifiable (dans les Pages Jaunes par exemple).</li>
<li><strong>Applicant Address</strong> : Siège social de la société.</li>
<li><strong>Certificate Approver</strong> : Il s'agit de la personne qui approuve la demande du certificat. À priori, la société. <strong>Idéalement il s'agit d'une personne sur le KBis, ainsi c'est beaucoup plus simple</strong>.</li>
<li><strong>Contract Signer</strong> : Il s'agit de la personne qui signe le contrat. Faites en sorte que ça soit la même personne que le <strong>Certificat Approver</strong>, ça facilitera la démarche de COMODO.</li>
</ul>


<p>Vous n'avez plus qu'à envoyer les documents ! Et attendre.</p>

<p>Généralement le certificat met entre 2 jours ouvrés (vécu) et 2 semaines à arriver. Pensez donc à vous y prendre un peu en avance !</p>

<p>Voici deux liens qui peuvent vous aider si vous avez encore des points flous sur le formulaire :</p>

<ul>
<li><a href="https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/253/0/what-is-required-for-validation">https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/253/0/what-is-required-for-validation</a></li>
<li><a href="https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/314/17/what-are-the-extended-validation-guidelines">https://support.comodo.com/index.php?/Default/Knowledgebase/Article/View/314/17/what-are-the-extended-validation-guidelines</a></li>
</ul>


<h2>Installation du certificat</h2>

<p>Évidemment j'ose espérer que votre adminsys saura installer votre certificat.<br/>
Sinon vous pouvez aussi aller lire mon article qui vous explique <a href="http://jacques.sh/2015/02/installer-certificat-ssl-apache.html">comment installer un certificat SSL avec une sécurité renforcée sur votre serveur</a>.</p>

 -->





    </div>
    <div class="voirPlus">
        <div class="social">
            <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/2014/08/certificat-ssl-business.html" data-text="Votre certificat SSL Business" data-via="jacquesbh">Tweet</a>
        </div>
        
        <a href="/2014/08/certificat-ssl-business.html#disqus_thread">Commentaires</a> -
        

        <a href="/2014/08/certificat-ssl-business.html">Lire l'article</a>

    </div>


<div class="pagination">
    <hr/>
    
    
    
    <span class="page_number">Page 1 sur 8</span>
    
    
    –
    <a href="/page2" class="next">Suivant</a>
    
    
</div>



</div>

<script type="text/javascript">
    var disqus_shortname = 'jacquesbh';
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>



    </div>

    <div id="bottomWrap">
        <div id="contactWrap">
            <form action="#" method="post" id="contact_form">
                <h3>Contact</h3>
                <p>
                    <label for="contactNom">Votre nom</label>
                    <input type="text" name="contact_name" id="contact_name" class="text" tabindex="1" />
                </p>
                <p>
                    <label for="contactEmail">Votre email</label>
                    <input type="email" name="contact_email" id="contact_email" class="text" tabindex="2" />
                </p>
                <p>
                    <label for="contactMessage">Message</label>
                    <textarea name="contact_message" id="contact_message" rows="5" cols="30" tabindex="8"></textarea>
                </p>
                <p class="send">
                    <input type="hidden" name="redirect_to" value="http://jacques.sh/contact/thanks.html" />
                    <input type="submit" id="contactSend" value="Envoyer" tabindex="9" />
                </p>
                <div style="display: none;" class="url">http://getsimpleform.com/messages?form_api_token=4ba030c3b67553e1ccb25710aee63bd6</div>
            </form>
            <div class="qrcode">
                <h3>Mon QRcode</h3>
                <p>
                    <img src="/img/qrcode.png" alt="le QRcode" width="198" height="192" />
                </p>
            </div>
        </div>

        <div id="footerWrap">
            <div class="social">
                <a href="https://twitter.com/jacquesbh" class="twitter-follow-button" data-show-count="false">Follow @jacquesbh</a>
            </div>
            
            <a href="http://monsieurbiz.com" title="Découvrez Monsieur Biz, une agence spécialisée sur Magento, solution e-commerce">Agence Magento</a>
            | 

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
            
            <a href="/credits.html">Crédits</a>
        
    

    
        
    

    
        
    

    
        
            |
            <a href="/legals.html">Informations légales</a>
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    





            | <a href="/atom.xml">RSS</a>
            | <a href="#" id="toplink">Haut de page</a>
            <br />
            <span class="copy">&copy; Jacques Bodin-Hullin - 2014</span>
        </div>
    </div>

</div>




  <script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27192340-2', 'auto');
  ga('send', 'pageview');

</script>






<script type="text/javascript" src="/js/jquery/cookies.js"></script>
    <div id="popin" class="monsieurbiz-popin" style="display: none;">
        <img src="/img/monsieurbiz.png" alt="" height="250" style="height: 250px;" />
        <h2><span class="lines">Un projet, Une agence</span></h2>
        <div class="action">
            <p>
                Monsieur Biz, une agence spécialisée Magento pour votre projet.
            </p>
            <a href="http://monsieurbiz.com">
                <div class="button1">C'est par ici que ça se passe !</div>
            </a>
        </div>
    </div>

    <script type="text/javascript">
    if (typeof disable_popin === 'undefined' || !disable_popin) {
        (function ($) {
            $(document).ready(function () {
                var cookieId = 'monsieurbizPopinDisplayed';
                if ($.cookie(cookieId) == null) {
                    $.fancybox.open('#popin');
                    $.cookie(cookieId, 'true', { expires: 15 });
                }
            });
         })(jQuery);
    }
    </script>


<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</body>
</html>

