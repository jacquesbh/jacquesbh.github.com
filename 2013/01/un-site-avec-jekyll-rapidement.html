

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="utf-8"/>
    <title>Un blog avec Jekyll et GitHub - Jacques Bodin-Hullin, développeur Magento</title>
    <meta name="description" content="Voici comment faire un blog rapide avec Jekyll et Github">
    <meta name="keywords" content="jekyll, github">
    <meta name="author" content="Jacques Bodin-Hullin">
    <link href="/css/style.css" rel="stylesheet" type="text/css" />
    <link href="/css/pygments.css" rel="stylesheet" type="text/css" media="all">
    <link href="/js/fancybox/jquery.fancybox.css" rel="stylesheet" type="text/css" media="all">
    <!-- Le fav and touch icons -->
    <link rel="shortcut icon" href="favicon.ico">
  <!-- Update these with your own images
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->
    <link rel="alternate" type="application/rss+xml" title="Jacques Bodin-Hullin - Latest Posts" href="/atom.xml" >

    <script type="text/javascript" src="/js/jquery-1.10.2.min.js" ></script>
    <script type="text/javascript" src="/js/fancybox/jquery.fancybox.pack.js" ></script>
    <script type="text/javascript" src="/js/event.js" ></script>
    <script type="text/javascript" src="/js/functions.js" ></script>

    <style for="gists"></style>
</head>
<body class="">

<div id="mainWrap">

    <div id="topWrap">
        <div id="headerWrap">
            <p>
                Jacques Bodin-Hullin
                <span class="baseline">Développeur d'applications Web</span>
            </p>
            <a href="http://jacques.sh"></a>

            <div id="magento_certified">
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="Jacques Bodin-Hullin, développeur certifié Magento Developer" class="developer" target="_blank"></a>
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="L'Agence Monsieur Biz est certifiée Magento Developer Plus" class="developer-plus" target="_blank"></a>
                <a href="http://www.magentocommerce.com/certification/directory/dev/69536/" title="Jacques Bodin-Hullin est développeur certifié Magento Front End Developer" class="frontend-developer" target="_blank"></a>
            </div>

        </div>

        <blockquote id="quoteWrap">
            
            <p>
                La perfection est atteinte non quand il ne reste rien à ajouter, mais quand il ne reste
                rien à enlever.
            </p>
            <div><cite>Antoine de Saint Exupéry</cite></div>
            
        </blockquote>

        <ul id="menu">
            
            <li><a href="/"><span></span>Accueil</a></li>
            
            <li><a href="https://github.com/jacquesbh" target="_blank"><span></span>Code</a></li>
            
            
    
        
    

    
        
            
            <li><a href="/a-propos.html"><span></span>A propos</a></li>
            
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
            
            <li><a href="/references.html"><span></span>Références</a></li>
            
        
    

    
        
    

    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    




            <li class="search">
                <form action="/search.html" method="get" id="search_form">
                    <div>
                        <input type="text" name="q" placeholder="Votre recherche" />
                    </div>
                </form>
            </li>
        </ul>

        <div class="mbiz">
            <p>
                <a href="http://monsieurbiz.com" title="Découvrez l'agence Monsieur Biz, spécialiste Magento">
                    <img src="/img/monsieurbiz_bg.png" title="L'Agence Monsieur Biz" />
                    <span>Vous cherchez une agence à taille humaine spécialisée sur la solution e-commerce Magento ? L'agence Monsieur Biz est faite pour vous.</span>
                </a>
            </p>
        </div>
    </div>

    <div id="globalWrap">


    

    <div id="contentWrap" class="post">

        <h1>Un blog avec Jekyll et GitHub</h1>

        <p>L'occasion de faire un petit blog ou un site un poil dynamique n'est pas rare dans notre métier.</p>

<p>Voici une manière rapide de faire un blog simple :</p>

<ul>
<li>interface d'administration

<ul>
<li>gestion des utilisateurs</li>
</ul>
</li>
<li>blog statique

<ul>
<li>versionnement des articles</li>
<li>commentaires (avec <a href="http://disqus.com/">Disqus</a>)</li>
<li>catégories</li>
<li>tags</li>
</ul>
</li>
</ul>


<p>Pour le rendu du blog, c'est <a href="http://jekyllrb.com/">Jekyll</a>.</p>

<p>Pour l'interface d'administration, c'est <a href="https://github.com/">GitHub</a>.</p>

<!-- more start -->


<hr />

<p><a href="http://jekyllrb.com/">Jekyll</a> est un générateur de blog statique.</p>

<p><a href="https://github.com/">GitHub</a> permet à un utilisateur d'avoir des URL telles que <em>http://utilisateur.github.com/projet</em> avec ses fameuses <a href="http://pages.github.com/">Pages Github</a>.</p>

<p>Et comme tout projet sur GitHub, on peut y avoir une gestion des collaborateurs. Un collaborateur devient donc un utilisateur dans notre cas.</p>

<p>Les <em>Pages</em> sur GitHub peuvent fonctionner avec Jekyll. C'est d'ailleurs le cas par défaut.</p>

<p>Il nous suffit donc de créer un projet sur GitHub, de créer la branche <code>gh-pages</code> et d'y mettre à l'intérieur : notre blog.</p>

<p>Je vous laisse créer votre projet, le cloner, et vous déplacer sur la branche <code>gh-pages</code>.</p>

<h2>Configuration</h2>

<p>Il nous faut initialiser notre blog :</p>

<script type="text/javascript">gist(4526322, 'misc/init.sh');</script>


<p>La <a href="https://github.com/mojombo/jekyll/wiki/Configuration">configuration de Jekyll</a> est contenu dans le fichier <code>_config.yml</code>.</p>

<p>Par défaut GitHub force les valeurs suivantes :</p>

<pre><code>safe: true
source: &lt;your pages repo&gt;
destination: &lt;the build dir&gt;
lsi: false
pygments: true
</code></pre>

<p>A partir de là vous n'avez pas le choix de la source et de la destination de vos pages. Vous ne pouvez pas non plus utiliser de plugins personnalisés ; Et la coloration syntaxique avec le tag <code>highlight</code> est possible et elle utilise <a href="http://pygments.org/">Pygments</a>.</p>

<p>Mais nous pouvons tout de même personnaliser quelques éléments :</p>

<script type="text/javascript">gist(4526322, '_config.yml');</script>


<p>La configuration n'est pas bien compliquée à comprendre. Il s'agit d'un fichier en <code>YAML</code>, c'est donc une liste de clés/valeurs, tout simplement.</p>

<h2>Le format d'une page avec Jekyll</h2>

<p>Tout fichier texte peut-être transformé par Jekyll. Il suffit d'y inclure le "header" qui va bien, exemple :</p>

<script type="text/javascript">gist(4526322, 'misc/header_example.txt', 4);</script>


<p>La date de publication permet de décider de la date de parution de notre article, à condition que la configuration <code>future</code> soit à <code>false</code>.</p>

<p>Le header d'un fichier "Jekyll" commence et se termine par <code>---</code>. A l'intérieur du header vous pouvez y mettre ce que vous voulez : ces valeurs seront récupérables.
On peut par exemple imaginer une variable <code>comments: true</code> ou <code>false</code> qui nous permette ensuite dans le HTML de la page de déterminer si on doit, ou non, afficher les commentaires.</p>

<h2>Notre page principale</h2>

<p>Comme tout site qui se respecte on a un <code>index.html</code>. Ici, c'est pareil. On peut également le nommer <code>index.md</code> mais dans ce cas il sera, en plus d'être parsé par Jekyll, parsé par le moteur Markdown. Et pour un fichier qui va contenir un HTML bien spécifique c'est un peu lourd de faire passer markdown par là.</p>

<p>On va décider que notre page d'accueil aura un <code>layout</code> standard qu'on pourra réutiliser : <code>default</code>.</p>

<p>Je vous explique plus bas ce qu'est le layout, mais vous allez voir, c'est très simple à comprendre !</p>

<p>En attendant notre page d'accueil doit boucler sur les posts, qui ont une pagination (on doit donc gérer cette pagination).</p>

<script type="text/javascript">gist(4526322, 'index.html');</script>


<p>Les conditions sont simples à comprendre. Par contre effectivement c'est pas super bien indenté... Sauf que si j'indente plus le code on va se retrouver avec des pages dont le HTML reçu par le serveur contiendra des tonnes d'espaces. Car les <code>{% if ... %}</code> sont supprimés, mais pas les espaces avant !</p>

<p>On a là notre page d'accueil avec sa pagination.</p>

<h2>Les includes</h2>

<p>Un fichier peut être inclu grâce à la méthode <code>include</code> : <code>{% include file %}</code>.</p>

<p>On peut donc par exemple facilement créer les fichiers <code>head.html</code>, <code>header.html</code> et <code>footer.html</code> !</p>

<script type="text/javascript">gist(4526322, '_includes/head.html');</script>




<script type="text/javascript">gist(4526322, '_includes/header.html');</script>




<script type="text/javascript">gist(4526322, '_includes/footer.html');</script>


<h2>Les layouts</h2>

<p>Les layouts sont des fichiers qui contiennent nos pages, notre <em>contenu</em> : <code>{{ content }}</code>.</p>

<p>Voici le layout <code>default</code> que nous avons utilisé pour notre page d'accueil :</p>

<script type="text/javascript">gist(4526322, '_layouts/default.html');</script>


<p>Vous voyez tout de suite l'intérêts des <code>includes</code> n'est-ce pas ?</p>

<p>Et le layout pour nos articles : <code>post</code></p>

<script type="text/javascript">gist(4526322, '_layouts/post.html');</script>


<h2>Notre premier article</h2>

<p>Nos articles sont dans le dossier <code>_posts</code>.</p>

<p>Le nom du fichier est important car il contient la date utilisée dans l'URL. Par exemple : <code>2013-01-13-premier-article.md</code></p>

<p>Et son contenu, rien de plus simple ! On utilise la layout <code>post</code>, une date de publication et un titre :</p>

<pre><code>---
title: "Mon premier article !"
layout: post
published: 2013-01-13 22:00:00
tags: [foo, bar, baz]
---

Super :)
</code></pre>

<h2>Les tags</h2>

<p>On peut également gérer des tags... avec par exemple une page qui va permettre de les lister.</p>

<p>Je vous laisse adapter ce code dans votre layout favoris, sur votre page d'accueil, dans une sidebar ou autre...</p>

<script type="text/javascript">gist(4526322, 'tags.html');</script>


<p>Ici on a surchargé le <code>permalink</code> car sinon notre lien aurait été <code>/tags/</code> et non <code>/tags.html</code>. Seul l'<code>index.html</code> n'est pas modifié au niveau de son URL (sauf si on force le <code>permalink</code>).</p>

<h2>Et GitHub dans tout ça ?</h2>

<p>Au final on a vu comment faire tourner un blog avec Jekyll... Mais je n'ai pas parlé de GitHub.</p>

<p>L'intérêt de GitHub dans cette affaire c'est que nous avons quelque chose de propre pour gérer nos fichiers et une interface vraiment simple pour modifier nos articles.</p>

<p>Depuis peu on peut créer des branches directement dans GitHub, ce qui fait qu'on peut rédiger un article directement en ligne, même s'il n'est pas terminé !</p>

<p>Et les contributeurs d'un projet peuvent devenir des auteurs ;)</p>

<h3>Le CNAME ?</h3>

<p>Le détail qui tue... ajoutez un fichier <code>CNAME</code> qui contient votre nom de domaine, par exemple <code>jacques.sh</code> (<a href="https://github.com/jacquesbh/jacquesbh.github.com/blob/master/CNAME">il existe vraiment !</a>).</p>

<p>Faites pointer vos DNS sur les serveurs de GitHub :</p>

<pre><code>jacques.sh.     38400   IN  A   204.232.175.78
</code></pre>

<p>Et le tour est joué !</p>

<p><em>Ce blog fonctionne avec Jekyll et GitHub :)</em></p>

<p>Pensez à bien modifier l'URL <code>production_url</code> dans la configuration du blog ! Sinon vous risquez quelques surprises avec vos URLs.</p>

<h2>Conclusion</h2>

<p>Je ne parle pas des commentaires et des catégories dans cet article. Mais vous avez toutes les clés en main pour faire ça sans moi !</p>

<p>Pour les catégories, ça fonctionne exactement comme les tags. Notez qu'on ne peut pas avoir d'URL particulière pour une catégorie, ou un tag. A moins de faire quelque chose en Javascript ou autre... (comme les tags de ce blog)</p>

<p>Pour les commentaires il vous suffit d'utiliser <a href="http://disqus.com/">Disqus</a>. Avec un <code>include</code> par exemple ! Et un peu de config ?</p>

<pre><code>disqus:
    username: mon_username
</code></pre>

<p>On récupère le nom d'utilisateur comme ceci : <code>{{ site.disqus.username }}</code></p>

<p>Si vous souhaitez un formulaire de contact vous pouvez vous tourner vers <a href="http://getsimpleform.com/">Get Simple Form</a>.
Il s'agit d'un site qui récupère les données <code>POST</code> d'un formulaire de contact et vous envoi un email avec les informations. Très pratique quand on sait que nous sommes sur un site statique !</p>

<p>N'oubliez pas de gérer l'envoi de votre formulaire en javascript (ou tout autre méthode) afin d'éviter le spam.</p>

<p>Concernant la recherche... c'est un peu compliqué de faire une recherche sur un site statique non ? Au final vous pouvez tenter quelque chose avec un fichier <code>json</code> à la racine de votre site et un bout de javascript pour gérer tout ça !</p>

<p>Vous pouvez récupérer la source de tout ce tuto en <a href="https://gist.github.com/4526322">clonant le gist dédié à cet article</a>, il est totalement fonctionnel et peut servir de base pour votre prochain blog ! (Moi ça sera le cas :)).</p>

<p>N'hésitez pas à regarder la <a href="https://github.com/jacquesbh/jacquesbh.github.com">source de ce blog également</a>.</p>

<!-- more end -->





        <hr />

        
        <h2 id="comments">Commentaires</h2>
        


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'jacquesbh'; // required: replace example with your forum shortname
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>




        
    </div>

    <div id="sideWrap">

    <h2>Quelques infos</h2>
    <ul class="infos">
        <li>
            <span>Par</span>
            <strong>Jacques Bodin-Hullin</strong>
            
        </li>
        <li>
            <span>Publié le</span>
            <strong>14 January 2013</strong>
        </li>
        <li>
            <span>Les tags</span>
            <strong>
                
                <a href="/search.html#!tag=Jekyll">Jekyll</a>, 
                
                <a href="/search.html#!tag=GitHub">GitHub</a>
                
            </strong>
        </li>
        
        
        <li>
            <span>Gist associé</span>
            <strong><a href="https://gist.github.com/4526322">4526322</a></strong>
        </li>
        
    </ul>

    <div class="social">
        <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://jacques.sh/2013/01/un-site-avec-jekyll-rapidement.html" data-text="Un blog avec Jekyll et GitHub" data-via="jacquesbh">Tweet</a>
    </div>

    
</div>


    </div>

    <div id="bottomWrap">
        <div id="contactWrap">
            <form action="#" method="post" id="contact_form">
                <h3>Contact</h3>
                <p>
                    <label for="contactNom">Votre nom</label>
                    <input type="text" name="contact_name" id="contact_name" class="text" tabindex="1" />
                </p>
                <p>
                    <label for="contactEmail">Votre email</label>
                    <input type="email" name="contact_email" id="contact_email" class="text" tabindex="2" />
                </p>
                <p>
                    <label for="contactMessage">Message</label>
                    <textarea name="contact_message" id="contact_message" rows="5" cols="30" tabindex="8"></textarea>
                </p>
                <p class="send">
                    <input type="hidden" name="redirect_to" value="http://jacques.sh/contact/thanks.html" />
                    <input type="submit" id="contactSend" value="Envoyer" tabindex="9" />
                </p>
                <div style="display: none;" class="url">http://getsimpleform.com/messages?form_api_token=4ba030c3b67553e1ccb25710aee63bd6</div>
            </form>
            <div class="qrcode">
                <h3>Mon QRcode</h3>
                <p>
                    <img src="/img/qrcode.png" alt="le QRcode" width="198" height="192" />
                </p>
            </div>
        </div>

        <div id="footerWrap">
            <div class="social">
                <a href="https://twitter.com/jacquesbh" class="twitter-follow-button" data-show-count="false">Follow @jacquesbh</a>
            </div>
            
            <a href="http://monsieurbiz.com" title="Découvrez Monsieur Biz, une agence spécialisée sur Magento, solution e-commerce">Agence Magento</a>
            | 

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
            
            <a href="/credits.html">Crédits</a>
        
    

    
        
    

    
        
            |
            <a href="/legals.html">Informations légales</a>
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    

    
        
    





            | <a href="/atom.xml">RSS</a>
            | <a href="#" id="toplink">Haut de page</a>
            <br />
            <span class="copy">&copy; Jacques Bodin-Hullin - 2013</span>
        </div>
    </div>

</div>




  <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-27192340-2']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>





<script type="text/javascript" src="/js/jquery/cookies.js"></script>
    <div id="popin" class="monsieurbiz-popin" style="display: none;">
        <img src="/img/monsieurbiz.png" alt="" height="250" style="height: 250px;" />
        <h2><span class="lines">Un projet, Une agence</span></h2>
        <div class="action">
            <p>
                Monsieur Biz, une agence spécialisée Magento pour votre projet.
            </p>
            <a href="http://monsieurbiz.com">
                <div class="button1">C'est par ici que ça se passe !</div>
            </a>
        </div>
    </div>

    <script type="text/javascript">
        (function ($) {
            $(document).ready(function () {
                var cookieId = 'monsieurbizPopinDisplayed';
                if ($.cookie(cookieId) == null) {
                    $.fancybox.open('#popin');
                    $.cookie(cookieId, 'true');
                }
            });
         })(jQuery);
    </script>


<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</body>
</html>

